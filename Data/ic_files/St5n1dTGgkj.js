/*!CK:2676682618!*//*1380635283,173209645*/

if (self.CavalryLogger) { CavalryLogger.start_js(["e8tAD"]); }

__d("SpotlightViewerLoggingEvents",[],function(a,b,c,d,e,f){e.exports={DATA_FETCH_BEGIN:"data_fetch_begin",CLOSE_BEGIN:"close_begin",PHOTO_CHANGE_BEGIN:"photo_change_begin",DATA_FETCH_COMPLETE:"data_fetch_complete",OPEN_BEGIN:"open_begin",ABORT:"abort",CLOSE_COMPLETE:"close_complete",OPEN_COMPLETE:"open_complete",ERROR:"error",LOADING:"loading",PHOTO_CHANGE_COMPLETE:"photo_change_complete",PHOTO_FETCH:"photo_fetch",PAGE_BEGIN:"page_begin",PAGE_COMPLETE:"page_complete",LOADED:"loaded"};});
__d("ChatConfig",["ChatConfigInitialData","copyProperties"],function(a,b,c,d,e,f){var g=b('ChatConfigInitialData'),h=b('copyProperties'),i={},j={get:function(k,l){return k in i?i[k]:l;},set:function(k){if(arguments.length>1){var l={};l[k]=arguments[1];k=l;}h(i,k);},getDebugInfo:function(){return i;}};j.set(g);e.exports=j;});
__d("BrowserSupport",["DOM","UserAgent"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('UserAgent'),i={},j=['Webkit','Moz','O','ms'],k=document.createElement('div'),l=function(n){if(i[n]===undefined){var o=null;if(n in k.style){o=n;}else for(var p=0;p<j.length;p++){var q=j[p]+n.charAt(0).toUpperCase()+n.slice(1);if(q in k.style){o=q;break;}}i[n]=o;}return i[n];},m={hasCSSAnimations:function(){return !!l('animationName');},hasCSSTransforms:function(){return !!l('transform');},hasCSS3DTransforms:function(){return !!l('perspective');},hasCSSTransitions:function(){return !!l('transition');},hasPositionSticky:function(){if(i.sticky===undefined){k.style.cssText='position:-webkit-sticky;position:-moz-sticky;'+'position:-o-sticky;position:-ms-sticky;position:sticky;';i.sticky=/sticky/.test(k.style.position);}return i.sticky;},hasPointerEvents:function(){if(i.pointerEvents===undefined)if(!('pointerEvents' in k.style)){i.pointerEvents=false;}else{k.style.pointerEvents='auto';k.style.pointerEvents='x';g.appendContent(document.documentElement,k);i.pointerEvents=window.getComputedStyle&&getComputedStyle(k,'').pointerEvents==='auto';g.remove(k);}return i.pointerEvents;},hasFileAPI:function(){if(i.fileAPI===undefined)i.fileAPI=!(h.webkit()&&!h.chrome()&&h.windows())&&'FileList' in window&&'FormData' in window;return i.fileAPI;},hasBlobFactory:function(){if(i.blobFactory===undefined)i.blobFactory=!!a.blob;return i.blobFactory;},getTransitionEndEvent:function(){if(i.transitionEnd===undefined){var n={transition:'transitionend',WebkitTransition:'webkitTransitionEnd',MozTransition:'mozTransitionEnd',OTransition:'oTransitionEnd'},o=l('transition');i.transitionEnd=n[o]||null;}return i.transitionEnd;}};e.exports=m;});
__d("XUISpinner.react",["BrowserSupport","ReactPropTypes","React","cx","tx"],function(a,b,c,d,e,f){var g=b('BrowserSupport'),h=b('ReactPropTypes'),i=b('React'),j=b('cx'),k=b('tx'),l=g.hasCSSAnimations(),m=i.createClass({displayName:'XUISpinner',propTypes:{size:h.oneOf(['small','large']),background:h.oneOf(['light','dark'])},getDefaultProps:function(){return {size:'small',background:'light'};},render:function(){var n=(("_55ym")+(this.props.size=='small'?' '+"_55yn":'')+(this.props.size=='large'?' '+"_55yq":'')+(this.props.background=='light'?' '+"_55yo":'')+(this.props.background=='dark'?' '+"_55yp":'')+(!l?' '+"_5d9-":''));return this.transferPropsTo(i.DOM.span({className:n},"\u0141adowanie..."));}});e.exports=m;});
__d("FBDesktopDetect",["UserAgent"],function(a,b,c,d,e,f){var g=b('UserAgent'),h='facebook.desktopplugin',i={mimeType:'application/x-facebook-desktop-1',isPluginInstalled:function(){if(g.osx())return false;var j=null;if(a.ActiveXObject){try{j=new a.ActiveXObject(h);if(j)return true;}catch(k){}}else if(a.navigator&&a.navigator.plugins){a.navigator.plugins.refresh(false);for(var l=0,m=a.navigator.plugins.length;l<m;l++){j=a.navigator.plugins[l];if(j.length&&j[0].type===this.mimeType)return true;}}return false;}};e.exports=i;});
__d("BanzaiODS",["Banzai","invariant"],function(a,b,c,d,e,f){var g=b('Banzai'),h=b('invariant');function i(){var k={},l={};function m(n,o,p,q){if(p===undefined)p=1;if(q===undefined)q=1;if(n in l)if(l[n]<=0){return;}else p/=l[n];var r=k[n]||(k[n]={}),s=r[o]||(r[o]=[0]);p=Number(p);q=Number(q);if(!isFinite(p)||!isFinite(q))return;s[0]+=p;if(arguments.length>=4){if(!s[1])s[1]=0;s[1]+=q;}}return {setEntitySample:function(n,o){l[n]=Math.random()<o?o:0;},bumpEntityKey:function(n,o,p){m(n,o,p);},bumpFraction:function(n,o,p,q){m(n,o,p,q);},flush:function(n){for(var o in k)g.post('ods:'+o,k[o],n);k={};}};}var j=i();j.create=i;g.subscribe(g.SEND,j.flush.bind(j,null));e.exports=j;});
__d("ScubaSample",["Banzai","copyProperties"],function(a,b,c,d,e,f){var g="scuba_sample",h=b("Banzai"),i=b("copyProperties");function j(m,n,o){this.fields={};this.flush=function(){if(!m)return;var p={};i(p,this.fields);p._ds=m;if(n)p._lid=n;p._options=o;h.post(g,p);this.flush=function(){};this.flushed=true;};this.lid=n;return this;}function k(m,n,o){if(!this.fields[m])this.fields[m]={};this.fields[m][n]=o;return this;}function l(m){return function(n,o){if(this.flushed)return this;return k.call(this,m,n,o);};}i(j.prototype,{addNormal:l('normal'),addInteger:l('int'),addDenorm:l('denorm')});e.exports=j;});
__d("arrayContains",[],function(a,b,c,d,e,f){function g(h,i){return h.indexOf(i)!=-1;}e.exports=g;});
__d("eachKeyVal",[],function(a,b,c,d,e,f){function g(h,i,j){if(!h||!i)return;var k=Object.keys(h),l;for(l=0;l<k.length;l++)i.call(j,k[l],h[k[l]],h,l);}e.exports=g;});
__d("endsWith",[],function(a,b,c,d,e,f){function g(h,i){return h.indexOf(i,h.length-i.length)>-1;}e.exports=g;});
__d("escapeJSQuotes",[],function(a,b,c,d,e,f){function g(h){if(typeof h=='undefined'||h==null||!h.valueOf())return '';return h.toString().replace(/\\/g,'\\\\').replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/"/g,'\\x22').replace(/'/g,'\\\'').replace(/</g,'\\x3c').replace(/>/g,'\\x3e').replace(/&/g,'\\x26');}e.exports=g;});
__d("htmlSpecialChars",[],function(a,b,c,d,e,f){var g=/&/g,h=/</g,i=/>/g,j=/"/g,k=/'/g;function l(m){if(typeof m=='undefined'||m===null||!m.toString)return '';if(m===false){return '0';}else if(m===true)return '1';return m.toString().replace(g,'&amp;').replace(j,'&quot;').replace(k,'&#039;').replace(h,'&lt;').replace(i,'&gt;');}e.exports=l;});
__d("htmlize",["htmlSpecialChars"],function(a,b,c,d,e,f){var g=b('htmlSpecialChars');function h(i){return g(i).replace(/\r\n|[\r\n]/g,'<br/>');}e.exports=h;});
__d("nativeRequestAnimationFrame",[],function(a,b,c,d,e,f){var g=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame;e.exports=g;});
__d("requestAnimationFrame",["emptyFunction","nativeRequestAnimationFrame"],function(a,b,c,d,e,f){var g=b('emptyFunction'),h=b('nativeRequestAnimationFrame'),i=0,j=h||function(k){var l=Date.now(),m=Math.max(0,16-(l-i));i=l+m;return a.setTimeout(k,m);};j(g);e.exports=j;});
__d("shield",[],function(a,b,c,d,e,f){function g(h,i){if(typeof h!='function')throw new TypeError();var j=Array.prototype.slice.call(arguments,2);return function(){return h.apply(i,j);};}e.exports=g;});
__d("Vector",["DOMDimensions","DOMPosition","Event","copyProperties"],function(a,b,c,d,e,f){var g=b('DOMDimensions'),h=b('DOMPosition'),i=b('Event'),j=b('copyProperties');function k(l,m,n){j(this,{x:parseFloat(l),y:parseFloat(m),domain:n||'pure'});}k.prototype.toString=function(){return '('+this.x+', '+this.y+')';};k.prototype.add=function(l,m){if(arguments.length==1){if(l.domain!='pure')l=l.convertTo(this.domain);return this.add(l.x,l.y);}var n=parseFloat(l),o=parseFloat(m);return new k(this.x+n,this.y+o,this.domain);};k.prototype.mul=function(l,m){if(typeof m=="undefined")m=l;return new k(this.x*l,this.y*m,this.domain);};k.prototype.div=function(l,m){if(typeof m=="undefined")m=l;return new k(this.x*1/l,this.y*1/m,this.domain);};k.prototype.sub=function(l,m){if(arguments.length==1){return this.add(l.mul(-1));}else return this.add(-l,-m);};k.prototype.distanceTo=function(l){return this.sub(l).magnitude();};k.prototype.magnitude=function(){return Math.sqrt((this.x*this.x)+(this.y*this.y));};k.prototype.rotate=function(l){return new k(this.x*Math.cos(l)-this.y*Math.sin(l),this.x*Math.sin(l)+this.y*Math.cos(l));};k.prototype.convertTo=function(l){if(l!='pure'&&l!='viewport'&&l!='document')return new k(0,0);if(l==this.domain)return new k(this.x,this.y,this.domain);if(l=='pure')return new k(this.x,this.y);if(this.domain=='pure')return new k(0,0);var m=k.getScrollPosition('document'),n=this.x,o=this.y;if(this.domain=='document'){n-=m.x;o-=m.y;}else{n+=m.x;o+=m.y;}return new k(n,o,l);};k.prototype.setElementPosition=function(l){var m=this.convertTo('document');l.style.left=parseInt(m.x)+'px';l.style.top=parseInt(m.y)+'px';return this;};k.prototype.setElementDimensions=function(l){return this.setElementWidth(l).setElementHeight(l);};k.prototype.setElementWidth=function(l){l.style.width=parseInt(this.x,10)+'px';return this;};k.prototype.setElementHeight=function(l){l.style.height=parseInt(this.y,10)+'px';return this;};k.prototype.scrollElementBy=function(l){if(l==document.body){window.scrollBy(this.x,this.y);}else{l.scrollLeft+=this.x;l.scrollTop+=this.y;}return this;};k.getEventPosition=function(l,m){m=m||'document';var n=i.getPosition(l),o=new k(n.x,n.y,'document');return o.convertTo(m);};k.getScrollPosition=function(l){l=l||'document';var m=h.getScrollPosition();return new k(m.x,m.y,'document').convertTo(l);};k.getElementPosition=function(l,m){m=m||'document';var n=h.getElementPosition(l);return new k(n.x,n.y,'viewport').convertTo(m);};k.getElementDimensions=function(l){var m=g.getElementDimensions(l);return new k(m.width,m.height);};k.getViewportDimensions=function(){var l=g.getViewportDimensions();return new k(l.width,l.height,'viewport');};k.getDocumentDimensions=function(l){var m=g.getDocumentDimensions(l);return new k(m.width,m.height,'document');};k.deserialize=function(l){var m=l.split(',');return new k(m[0],m[1]);};e.exports=k;});
__d("SimpleDrag",["Event","ArbiterMixin","UserAgent","Vector","copyProperties","emptyFunction"],function(a,b,c,d,e,f){var g=b('Event'),h=b('ArbiterMixin'),i=b('UserAgent'),j=b('Vector'),k=b('copyProperties'),l=b('emptyFunction');function m(n){this.minDragDistance=0;g.listen(n,'mousedown',this._start.bind(this));}k(m.prototype,h,{setMinDragDistance:function(n){this.minDragDistance=n;},_start:function(event){var n=false,o=true,p=null;if(this.inform('mousedown',event))o=false;if(this.minDragDistance){p=j.getEventPosition(event);}else{n=true;var q=this.inform('start',event);if(q===true){o=false;}else if(q===false){n=false;return;}}var r=i.ie()<9?document.documentElement:window,s=g.listen(r,{selectstart:o?g.prevent:l,mousemove:function(event){if(!n){var t=j.getEventPosition(event);if(p.distanceTo(t)<this.minDragDistance)return;n=true;if(this.inform('start',event)===false){n=false;return;}}this.inform('update',event);}.bind(this),mouseup:function(event){for(var t in s)s[t].remove();if(n){this.inform('end',event);}else this.inform('click',event);}.bind(this)});o&&event.prevent();}});e.exports=m;});
__d("FlipDirectionOnKeypress",["Event","DOM","Input","Style"],function(a,b,c,d,e,f){var g=b('Event'),h=b('DOM'),i=b('Input'),j=b('Style');function k(event){var l=event.getTarget(),m=h.isNodeOfType(l,'input')&&(l.type=='text'),n=h.isNodeOfType(l,'textarea');if(!(m||n)||l.getAttribute('data-prevent-auto-flip'))return;var o=i.getValue(l),p=(l.style&&l.style.direction);if(!p){var q=0,r=true;for(var s=0;s<o.length;s++){var t=o.charCodeAt(s);if(t>=48){if(r){r=false;q++;}if(t>=1470&&t<=1920){j.set(l,'direction','rtl');return;}if(q==5){j.set(l,'direction','ltr');return;}}else r=true;}}else if(o.length===0)j.set(l,'direction','');}g.listen(document.documentElement,{keyup:k,input:k});});
__d("PlaceholderOnsubmitFormListener",["Event","Input"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Input');g.listen(document.documentElement,'submit',function(i){var j=i.getTarget().getElementsByTagName('*');for(var k=0;k<j.length;k++)if(j[k].getAttribute('placeholder')&&h.isEmpty(j[k]))h.setValue(j[k],'');});});
__d("EagleEye",["Arbiter","Env","OnloadEvent","WebStorage","isInIframe"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('Env'),i=b('OnloadEvent'),j=b('WebStorage'),k=b('isInIframe'),l=h.eagleEyeConfig||{},m='_e_',n=(window.name||'').toString();if(n.length==7&&n.substr(0,3)==m){n=n.substr(3);}else{n=l.seed;if(!k())window.name=m+n;}var o=(window.location.protocol=='https:'&&document.cookie.match(/\bcsm=1/))?'; secure':'',p=m+n+'_',q=new Date(Date.now()+604800000).toGMTString(),r=window.location.hostname.replace(/^.*(facebook\..*)$/i,'$1'),s='; expires='+q+';path=/; domain='+r+o,t=0,u,v=l.sessionStorage&&j.getSessionStorage(),w=document.cookie.length,x=false,y=Date.now();function z(da){return p+(t++)+'='+encodeURIComponent(da)+s;}function aa(){var da=[],ea=false,fa=0,ga=0;this.isEmpty=function(){return !da.length;};this.enqueue=function(ha,ia){if(ia){da.unshift(ha);}else da.push(ha);};this.dequeue=function(){da.shift();};this.peek=function(){return da[0];};this.clear=function(ha){w=Math.min(w,document.cookie.length);if(!x&&(new Date()-y>60000))x=true;var ia=!ha&&(document.cookie.search(m)>=0),ja=!!h.cookie_header_limit,ka=h.cookie_count_limit||19,la=h.cookie_header_limit||3950,ma=ka-5,na=la-1000;while(!this.isEmpty()){var oa=z(this.peek());if(ja&&(oa.length>la||(x&&oa.length+w>la))){this.dequeue();continue;}if((ia||ja)&&((document.cookie.length+oa.length>la)||(document.cookie.split(';').length>ka)))break;document.cookie=oa;ia=true;this.dequeue();}var pa=Date.now();if(ha||!ea&&ia&&((ga>0)&&(Math.min(10*Math.pow(2,ga-1),60000)+fa<pa))&&g.query(i.ONLOAD)&&(!this.isEmpty()||(document.cookie.length>na)||(document.cookie.split(';').length>ma))){var qa=new Image(),ra=this,sa=h.tracking_domain||'';ea=true;qa.onload=function va(){ea=false;ga=0;ra.clear();};qa.onerror=qa.onabort=function va(){ea=false;fa=Date.now();ga++;};var ta=h.fb_isb?'&fb_isb='+h.fb_isb:'',ua='&__user='+h.user;qa.src=sa+'/ajax/nectar.php?asyncSignal='+(Math.floor(Math.random()*10000)+1)+ta+ua+'&'+(!ha?'':'s=')+pa;}};}u=new aa();if(v){var ba=function(){var da=0,ea=da;function fa(){var ia=sessionStorage.getItem('_e_ids');if(ia){var ja=(ia+'').split(';');if(ja.length==2){da=parseInt(ja[0],10);ea=parseInt(ja[1],10);}}}function ga(){var ia=da+';'+ea;sessionStorage.setItem('_e_ids',ia);}function ha(ia){return '_e_'+((ia!==undefined)?ia:da++);}this.isEmpty=function(){return ea===da;};this.enqueue=function(ia,ja){var ka=ja?ha(--ea):ha();sessionStorage.setItem(ka,ia);ga();};this.dequeue=function(){this.isEmpty();sessionStorage.removeItem(ha(ea));ea++;ga();};this.peek=function(){var ia=sessionStorage.getItem(ha(ea));return ia?(ia+''):ia;};this.clear=u.clear;fa();};u=new ba();}var ca={log:function(da,ea,fa){if(h.no_cookies)return;var ga=[n,Date.now(),da].concat(ea);ga.push(ga.length);function ha(){var ia=JSON.stringify(ga);try{u.enqueue(ia,!!fa);u.clear(!!fa);}catch(ja){if(v&&(ja.code===1000)){u=new aa();v=false;ha();}}}ha();},getSessionID:function(){return n;}};e.exports=ca;a.EagleEye=ca;},3);
__d("Animation",["BrowserSupport","CSS","DataStore","DOM","Style","shield"],function(a,b,c,d,e,f){var g=b('BrowserSupport'),h=b('CSS'),i=b('DataStore'),j=b('DOM'),k=b('Style'),l=b('shield'),m,n=[],o;function p(ga){if(a==this){return new p(ga);}else{this.obj=ga;this._reset_state();this.queue=[];this.last_attr=null;}}function q(ga){if(g.hasCSS3DTransforms()){return t(ga);}else return s(ga);}function r(ga){return ga.toFixed(8);}function s(ga){ga=[ga[0],ga[4],ga[1],ga[5],ga[12],ga[13]];return 'matrix('+ga.map(r).join(',')+')';}function t(ga){return 'matrix3d('+ga.map(r).join(',')+')';}function u(ga,ha){if(!ga)ga=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];var ia=[];for(var ja=0;ja<4;ja++)for(var ka=0;ka<4;ka++){var la=0;for(var ma=0;ma<4;ma++)la+=ga[ja*4+ma]*ha[ma*4+ka];ia[ja*4+ka]=la;}return ia;}var v=0;p.prototype._reset_state=function(){this.state={attrs:{},duration:500};};p.prototype.stop=function(){this._reset_state();this.queue=[];return this;};p.prototype._build_container=function(){if(this.container_div){this._refresh_container();return;}if(this.obj.firstChild&&this.obj.firstChild.__animation_refs){this.container_div=this.obj.firstChild;this.container_div.__animation_refs++;this._refresh_container();return;}var ga=document.createElement('div');ga.style.padding='0px';ga.style.margin='0px';ga.style.border='0px';ga.__animation_refs=1;var ha=this.obj.childNodes;while(ha.length)ga.appendChild(ha[0]);this.obj.appendChild(ga);this._orig_overflow=this.obj.style.overflow;this.obj.style.overflow='hidden';this.container_div=ga;this._refresh_container();};p.prototype._refresh_container=function(){this.container_div.style.height='auto';this.container_div.style.width='auto';this.container_div.style.height=this.container_div.offsetHeight+'px';this.container_div.style.width=this.container_div.offsetWidth+'px';};p.prototype._destroy_container=function(){if(!this.container_div)return;if(!--this.container_div.__animation_refs){var ga=this.container_div.childNodes;while(ga.length)this.obj.appendChild(ga[0]);this.obj.removeChild(this.container_div);}this.container_div=null;this.obj.style.overflow=this._orig_overflow;};var w=1,x=2,y=3;p.prototype._attr=function(ga,ha,ia){ga=ga.replace(/-[a-z]/gi,function(ka){return ka.substring(1).toUpperCase();});var ja=false;switch(ga){case 'background':this._attr('backgroundColor',ha,ia);return this;case 'backgroundColor':case 'borderColor':case 'color':ha=ca(ha);break;case 'opacity':ha=parseFloat(ha,10);break;case 'height':case 'width':if(ha=='auto'){ja=true;}else ha=parseInt(ha,10);break;case 'borderWidth':case 'lineHeight':case 'fontSize':case 'margin':case 'marginBottom':case 'marginLeft':case 'marginRight':case 'marginTop':case 'padding':case 'paddingBottom':case 'paddingLeft':case 'paddingRight':case 'paddingTop':case 'bottom':case 'left':case 'right':case 'top':case 'scrollTop':case 'scrollLeft':ha=parseInt(ha,10);break;case 'rotateX':case 'rotateY':case 'rotateZ':ha=parseInt(ha,10)*Math.PI/180;break;case 'translateX':case 'translateY':case 'translateZ':case 'scaleX':case 'scaleY':case 'scaleZ':ha=parseFloat(ha,10);break;case 'rotate3d':this._attr('rotateX',ha[0],ia);this._attr('rotateY',ha[1],ia);this._attr('rotateZ',ha[2],ia);return this;case 'rotate':this._attr('rotateZ',ha,ia);return this;case 'scale3d':this._attr('scaleZ',ha[2],ia);case 'scale':this._attr('scaleX',ha[0],ia);this._attr('scaleY',ha[1],ia);return this;case 'translate3d':this._attr('translateZ',ha[2],ia);case 'translate':this._attr('translateX',ha[0],ia);this._attr('translateY',ha[1],ia);return this;default:throw new Error(ga+' is not a supported attribute!');}if(this.state.attrs[ga]===undefined)this.state.attrs[ga]={};if(ja)this.state.attrs[ga].auto=true;switch(ia){case y:this.state.attrs[ga].start=ha;break;case x:this.state.attrs[ga].by=true;case w:this.state.attrs[ga].value=ha;break;}};function z(ga){var ha=parseInt(k.get(ga,'paddingLeft'),10),ia=parseInt(k.get(ga,'paddingRight'),10),ja=parseInt(k.get(ga,'borderLeftWidth'),10),ka=parseInt(k.get(ga,'borderRightWidth'),10);return ga.offsetWidth-(ha?ha:0)-(ia?ia:0)-(ja?ja:0)-(ka?ka:0);}function aa(ga){var ha=parseInt(k.get(ga,'paddingTop'),10),ia=parseInt(k.get(ga,'paddingBottom'),10),ja=parseInt(k.get(ga,'borderTopWidth'),10),ka=parseInt(k.get(ga,'borderBottomWidth'),10);return ga.offsetHeight-(ha?ha:0)-(ia?ia:0)-(ja?ja:0)-(ka?ka:0);}p.prototype.to=function(ga,ha){if(ha===undefined){this._attr(this.last_attr,ga,w);}else{this._attr(ga,ha,w);this.last_attr=ga;}return this;};p.prototype.by=function(ga,ha){if(ha===undefined){this._attr(this.last_attr,ga,x);}else{this._attr(ga,ha,x);this.last_attr=ga;}return this;};p.prototype.from=function(ga,ha){if(ha===undefined){this._attr(this.last_attr,ga,y);}else{this._attr(ga,ha,y);this.last_attr=ga;}return this;};p.prototype.duration=function(ga){this.state.duration=ga?ga:0;return this;};p.prototype.checkpoint=function(ga,ha){if(ga===undefined)ga=1;this.state.checkpoint=ga;this.queue.push(this.state);this._reset_state();this.state.checkpointcb=ha;return this;};p.prototype.blind=function(){this.state.blind=true;return this;};p.prototype.hide=function(){this.state.hide=true;return this;};p.prototype.show=function(){this.state.show=true;return this;};p.prototype.ease=function(ga){this.state.ease=ga;return this;};p.prototype.go=function(){var ga=Date.now();this.queue.push(this.state);for(var ha=0;ha<this.queue.length;ha++){this.queue[ha].start=ga-v;if(this.queue[ha].checkpoint)ga+=this.queue[ha].checkpoint*this.queue[ha].duration;}da(this);return this;};p.prototype._show=function(){h.show(this.obj);};p.prototype._hide=function(){h.hide(this.obj);};p.prototype._frame=function(ga){var ha=true,ia=false,ja;function ka(db){return document.documentElement[db]||document.body[db];}for(var la=0;la<this.queue.length;la++){var ma=this.queue[la];if(ma.start>ga){ha=false;continue;}if(ma.checkpointcb){this._callback(ma.checkpointcb,ga-ma.start);ma.checkpointcb=null;}if(ma.started===undefined){if(ma.show)this._show();for(var na in ma.attrs){if(ma.attrs[na].start!==undefined)continue;switch(na){case 'backgroundColor':case 'borderColor':case 'color':ja=ca(k.get(this.obj,na=='borderColor'?'borderLeftColor':na));if(ma.attrs[na].by){ma.attrs[na].value[0]=Math.min(255,Math.max(0,ma.attrs[na].value[0]+ja[0]));ma.attrs[na].value[1]=Math.min(255,Math.max(0,ma.attrs[na].value[1]+ja[1]));ma.attrs[na].value[2]=Math.min(255,Math.max(0,ma.attrs[na].value[2]+ja[2]));}break;case 'opacity':ja=k.getOpacity(this.obj);if(ma.attrs[na].by)ma.attrs[na].value=Math.min(1,Math.max(0,ma.attrs[na].value+ja));break;case 'height':ja=aa(this.obj);if(ma.attrs[na].by)ma.attrs[na].value+=ja;break;case 'width':ja=z(this.obj);if(ma.attrs[na].by)ma.attrs[na].value+=ja;break;case 'scrollLeft':case 'scrollTop':ja=(this.obj===document.body)?ka(na):this.obj[na];if(ma.attrs[na].by)ma.attrs[na].value+=ja;ma['last'+na]=ja;break;case 'rotateX':case 'rotateY':case 'rotateZ':case 'translateX':case 'translateY':case 'translateZ':ja=i.get(this.obj,na,0);if(ma.attrs[na].by)ma.attrs[na].value+=ja;break;case 'scaleX':case 'scaleY':case 'scaleZ':ja=i.get(this.obj,na,1);if(ma.attrs[na].by)ma.attrs[na].value+=ja;break;default:ja=parseInt(k.get(this.obj,na),10)||0;if(ma.attrs[na].by)ma.attrs[na].value+=ja;break;}ma.attrs[na].start=ja;}if((ma.attrs.height&&ma.attrs.height.auto)||(ma.attrs.width&&ma.attrs.width.auto)){this._destroy_container();for(var na in {height:1,width:1,fontSize:1,borderLeftWidth:1,borderRightWidth:1,borderTopWidth:1,borderBottomWidth:1,paddingLeft:1,paddingRight:1,paddingTop:1,paddingBottom:1})if(ma.attrs[na])this.obj.style[na]=ma.attrs[na].value+(typeof ma.attrs[na].value=='number'?'px':'');if(ma.attrs.height&&ma.attrs.height.auto)ma.attrs.height.value=aa(this.obj);if(ma.attrs.width&&ma.attrs.width.auto)ma.attrs.width.value=z(this.obj);}ma.started=true;if(ma.blind)this._build_container();}var oa=(ga-ma.start)/ma.duration;if(oa>=1){oa=1;if(ma.hide)this._hide();}else ha=false;var pa=ma.ease?ma.ease(oa):oa;if(!ia&&oa!=1&&ma.blind)ia=true;for(var na in ma.attrs)switch(na){case 'backgroundColor':case 'borderColor':case 'color':if(ma.attrs[na].start[3]!=ma.attrs[na].value[3]){this.obj.style[na]='rgba('+ba(pa,ma.attrs[na].start[0],ma.attrs[na].value[0],true)+','+ba(pa,ma.attrs[na].start[1],ma.attrs[na].value[1],true)+','+ba(pa,ma.attrs[na].start[2],ma.attrs[na].value[2],true)+','+ba(pa,ma.attrs[na].start[3],ma.attrs[na].value[3],false)+')';}else this.obj.style[na]='rgb('+ba(pa,ma.attrs[na].start[0],ma.attrs[na].value[0],true)+','+ba(pa,ma.attrs[na].start[1],ma.attrs[na].value[1],true)+','+ba(pa,ma.attrs[na].start[2],ma.attrs[na].value[2],true)+')';break;case 'opacity':k.set(this.obj,'opacity',ba(pa,ma.attrs[na].start,ma.attrs[na].value));break;case 'height':case 'width':this.obj.style[na]=pa==1&&ma.attrs[na].auto?'auto':ba(pa,ma.attrs[na].start,ma.attrs[na].value,true)+'px';break;case 'scrollLeft':case 'scrollTop':var qa=this.obj===document.body;ja=qa?ka(na):this.obj[na];if(ma['last'+na]!==ja){delete ma.attrs[na];}else{var ra=ba(pa,ma.attrs[na].start,ma.attrs[na].value,true);if(!qa){ra=this.obj[na]=ra;}else{if(na=='scrollLeft'){a.scrollTo(ra,ka('scrollTop'));}else a.scrollTo(ka('scrollLeft'),ra);ra=ka(na);}ma['last'+na]=ra;}break;case 'translateX':case 'translateY':case 'translateZ':case 'rotateX':case 'rotateY':case 'rotateZ':case 'scaleX':case 'scaleY':case 'scaleZ':i.set(this.obj,na,ba(pa,ma.attrs[na].start,ma.attrs[na].value,false));break;default:this.obj.style[na]=ba(pa,ma.attrs[na].start,ma.attrs[na].value,true)+'px';break;}var sa=null,ta=i.get(this.obj,'translateX',0),ua=i.get(this.obj,'translateY',0),va=i.get(this.obj,'translateZ',0);if(ta||ua||va)sa=u(sa,[1,0,0,0,0,1,0,0,0,0,1,0,ta,ua,va,1]);var wa=i.get(this.obj,'scaleX',1),xa=i.get(this.obj,'scaleY',1),ya=i.get(this.obj,'scaleZ',1);if(wa-1||xa-1||ya-1)sa=u(sa,[wa,0,0,0,0,xa,0,0,0,0,ya,0,0,0,0,1]);var za=i.get(this.obj,'rotateX',0);if(za)sa=u(sa,[1,0,0,0,0,Math.cos(za),Math.sin(-za),0,0,Math.sin(za),Math.cos(za),0,0,0,0,1]);var ab=i.get(this.obj,'rotateY',0);if(ab)sa=u(sa,[Math.cos(ab),0,Math.sin(ab),0,0,1,0,0,Math.sin(-ab),0,Math.cos(ab),0,0,0,0,1]);var bb=i.get(this.obj,'rotateZ',0);if(bb)sa=u(sa,[Math.cos(bb),Math.sin(-bb),0,0,Math.sin(bb),Math.cos(bb),0,0,0,0,1,0,0,0,0,1]);if(sa){var cb=q(sa);k.apply(this.obj,{'-webkit-transform':cb,'-moz-transform':cb,'-ms-transform':cb,'-o-transform':cb,transform:cb});}else if(ha)k.apply(this.obj,{'-webkit-transform':null,'-moz-transform':null,'-ms-transform':null,'-o-transform':null,transform:null});if(oa==1){this.queue.splice(la--,1);this._callback(ma.ondone,ga-ma.start-ma.duration);}}if(!ia&&this.container_div)this._destroy_container();return !ha;};p.prototype.ondone=function(ga){this.state.ondone=ga;return this;};p.prototype._callback=function(ga,ha){if(ga){v=ha;ga.call(this);v=0;}};function ba(ga,ha,ia,ja){return (ja?parseInt:parseFloat)((ia-ha)*ga+ha,10);}function ca(ga){var ha=/^#([a-f0-9]{1,2})([a-f0-9]{1,2})([a-f0-9]{1,2})$/i.exec(ga);if(ha){return [parseInt(ha[1].length==1?ha[1]+ha[1]:ha[1],16),parseInt(ha[2].length==1?ha[2]+ha[2]:ha[2],16),parseInt(ha[3].length==1?ha[3]+ha[3]:ha[3],16),1];}else{var ia=/^rgba? *\(([0-9]+), *([0-9]+), *([0-9]+)(?:, *([0-9\.]+))?\)$/.exec(ga);if(ia){return [parseInt(ia[1],10),parseInt(ia[2],10),parseInt(ia[3],10),ia[4]?parseFloat(ia[4]):1];}else if(ga=='transparent'){return [255,255,255,0];}else throw 'Named color attributes are not supported.';}}function da(ga){n.push(ga);if(n.length===1){if(!m){var ha=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame;if(ha)m=ha.bind(a);}if(m){m(fa);}else o=setInterval(fa,20,false);}if(m)ea();fa(Date.now(),true);}function ea(){if(!m)throw new Error('Ending timer only valid with requestAnimationFrame');var ga=0;for(var ha=0;ha<n.length;ha++){var ia=n[ha];for(var ja=0;ja<ia.queue.length;ja++){var ka=ia.queue[ja].start+ia.queue[ja].duration;if(ka>ga)ga=ka;}}if(o){clearTimeout(o);o=null;}var la=Date.now();if(ga>la)o=setTimeout(l(fa),ga-la,false);}function fa(ga,ha){var ia=Date.now();for(var ja=(ha===true)?n.length-1:0;ja<n.length;ja++)try{if(!n[ja]._frame(ia))n.splice(ja--,1);}catch(ka){n.splice(ja--,1);}if(n.length===0){if(o){if(m){clearTimeout(o);}else clearInterval(o);o=null;}}else if(m)m(fa);}p.ease={};p.ease.begin=function(ga){return Math.sin(Math.PI/2*(ga-1))+1;};p.ease.end=function(ga){return Math.sin(.5*Math.PI*ga);};p.ease.both=function(ga){return .5*Math.sin(Math.PI*(ga-.5))+.5;};p.prependInsert=function(ga,ha){p.insert(ga,ha,j.prependContent);};p.appendInsert=function(ga,ha){p.insert(ga,ha,j.appendContent);};p.insert=function(ga,ha,ia){k.set(ha,'opacity',0);ia(ga,ha);new p(ha).from('opacity',0).to('opacity',1).duration(400).go();};e.exports=p;});
__d("AsyncRequestNectarLogging",["AsyncRequest","Nectar","copyProperties"],function(a,b,c,d,e,f){var g=b('AsyncRequest'),h=b('Nectar'),i=b('copyProperties');i(g.prototype,{setNectarModuleData:function(j){if(this.method=='POST')h.addModuleData(this.data,j);},setNectarImpressionId:function(){if(this.method=='POST')h.addImpressionID(this.data);}});});
__d("CSSClassTransition",["copyProperties"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=[];function i(){}g(i,{go:function(j,k,l,m){var n;for(var o=0;o<h.length;o++)if(h[o](j,k,l,m)===true)n=true;if(!n)j.className=k;},registerHandler:function(j){h.push(j);return {remove:function(){var k=h.indexOf(j);if(k>=0)h.splice(k,1);}};}});e.exports=i;});
__d("ViewportBounds",["Style","Vector","emptyFunction","ge","removeFromArray"],function(a,b,c,d,e,f){var g=b('Style'),h=b('Vector'),i=b('emptyFunction'),j=b('ge'),k=b('removeFromArray'),l={top:[],right:[],bottom:[],left:[]};function m(q){return function(){var r=0;l[q].forEach(function(s){r=Math.max(r,s.getSize());});return r;};}function n(q){return function(r){return new o(q,r);};}function o(q,r){this.getSide=i.thatReturns(q);this.getSize=function(){return typeof r==='function'?r():r;};l[q].push(this);}o.prototype.remove=function(){k(l[this.getSide()],this);};var p={getTop:m('top'),getRight:m('right'),getBottom:m('bottom'),getLeft:m('left'),getElementPosition:function(q){var r=h.getElementPosition(q);r.y-=p.getTop();return r;},addTop:n('top'),addRight:n('right'),addBottom:n('bottom'),addLeft:n('left')};p.addTop(function(){var q=j('blueBar');if(q&&g.isFixed(q))return j('blueBarHolder').offsetHeight;return 0;});e.exports=p;});
__d("isAsyncScrollQuery",["UserAgent"],function(a,b,c,d,e,f){var g=b('UserAgent'),h=null;function i(){if(h===null)h=g.osx()>=10.8&&g.webkit()>=536.25&&!g.chrome();return h;}e.exports=i;});
__d("DOMScroll",["Animation","Arbiter","DOM","DOMQuery","Vector","ViewportBounds","ge","isAsyncScrollQuery"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('Arbiter'),i=b('DOM'),j=b('DOMQuery'),k=b('Vector'),l=b('ViewportBounds'),m=b('ge'),n=b('isAsyncScrollQuery'),o={SCROLL:'dom-scroll',getScrollState:function(){var p=k.getViewportDimensions(),q=k.getDocumentDimensions(),r=(q.x>p.x),s=(q.y>p.y);r+=0;s+=0;return new k(r,s);},_scrollbarSize:null,_initScrollbarSize:function(){var p=i.create('p');p.style.width='100%';p.style.height='200px';var q=i.create('div');q.style.position='absolute';q.style.top='0px';q.style.left='0px';q.style.visibility='hidden';q.style.width='200px';q.style.height='150px';q.style.overflow='hidden';q.appendChild(p);document.body.appendChild(q);var r=p.offsetWidth;q.style.overflow='scroll';var s=p.offsetWidth;if(r==s)s=q.clientWidth;document.body.removeChild(q);o._scrollbarSize=r-s;},getScrollbarSize:function(){if(o._scrollbarSize===null)o._initScrollbarSize();return o._scrollbarSize;},scrollTo:function(p,q,r,s,t){if(typeof q=='undefined'||q===true)q=750;if(n())q=false;if(!(p instanceof k)){var u=k.getScrollPosition().x,v=k.getElementPosition(m(p)).y;p=new k(u,v,'document');if(!s)p.y-=l.getTop()/(r?2:1);}if(r){p.y-=k.getViewportDimensions().y/2;}else if(s){p.y-=k.getViewportDimensions().y;p.y+=s;}p=p.convertTo('document');if(q){return new g(document.body).to('scrollTop',p.y).to('scrollLeft',p.x).ease(g.ease.end).duration(q).ondone(t).go();}else if(window.scrollTo){window.scrollTo(p.x,p.y);t&&t();}h.inform(o.SCROLL);},ensureVisible:function(p,q,r,s,t){if(r===undefined)r=10;p=m(p);if(q)p=j.find(p,q);var u=k.getScrollPosition().x,v=k.getScrollPosition().y,w=v+k.getViewportDimensions().y,x=k.getElementPosition(p).y,y=x+k.getElementDimensions(p).y;x-=l.getTop();x-=r;y+=r;if(x<v){o.scrollTo(new k(u,x,'document'),s,false,false,t);}else if(y>w)if(x-(y-w)<v){o.scrollTo(new k(u,x,'document'),s,false,false,t);}else o.scrollTo(new k(u,y,'document'),s,false,true,t);},scrollToTop:function(p){var q=k.getScrollPosition();o.scrollTo(new k(q.x,0,'document'),p!==false);}};e.exports=o;});
__d("Button",["CSS","DataStore","DOM","Event","Parent","cx","emptyFunction"],function(a,b,c,d,e,f){var g=b('CSS'),h=b('DataStore'),i=b('DOM'),j=b('Event'),k=b('Parent'),l=b('cx'),m=b('emptyFunction'),n='uiButtonDisabled',o='uiButtonDepressed',p="_42fr",q="_42fs",r='button:blocker',s='href',t='ajaxify';function u(aa,ba){var ca=h.get(aa,r);if(ba){if(ca){ca.remove();h.remove(aa,r);}}else if(!ca)h.set(aa,r,j.listen(aa,'click',m.thatReturnsFalse,j.Priority.URGENT));}function v(aa){var ba=k.byClass(aa,'uiButton')||k.byClass(aa,"_42ft");if(!ba)throw new Error('invalid use case');return ba;}function w(aa){return i.isNodeOfType(aa,'a');}function x(aa){return i.isNodeOfType(aa,'button');}function y(aa){return g.hasClass(aa,"_42ft");}var z={getInputElement:function(aa){aa=v(aa);if(w(aa))throw new Error('invalid use case');return x(aa)?aa:i.find(aa,'input');},isEnabled:function(aa){return !(g.hasClass(v(aa),n)||g.hasClass(v(aa),p));},setEnabled:function(aa,ba){aa=v(aa);var ca=y(aa)?p:n;g.conditionClass(aa,ca,!ba);if(w(aa)){var da=aa.getAttribute('href'),ea=aa.getAttribute('ajaxify'),fa=h.get(aa,s,'#'),ga=h.get(aa,t);if(ba){if(!da)aa.setAttribute('href',fa);if(!ea&&ga)aa.setAttribute('ajaxify',ga);aa.removeAttribute('tabIndex');}else{if(da&&da!==fa)h.set(aa,s,da);if(ea&&ea!==ga)h.set(aa,t,ea);aa.removeAttribute('href');aa.removeAttribute('ajaxify');aa.setAttribute('tabIndex','-1');}u(aa,ba);}else{var ha=z.getInputElement(aa);ha.disabled=!ba;u(ha,ba);}},setDepressed:function(aa,ba){aa=v(aa);var ca=y(aa)?q:o;g.conditionClass(aa,ca,ba);},isDepressed:function(aa){aa=v(aa);var ba=y(aa)?q:o;return g.hasClass(aa,ba);},setLabel:function(aa,ba){aa=v(aa);if(y(aa)){var ca=[];if(ba)ca.push(ba);var da=i.scry(aa,'.img')[0];if(da)if(aa.firstChild==da){ca.unshift(da);}else ca.push(da);i.setContent(aa,ca);}else if(w(aa)){var ea=i.find(aa,'span.uiButtonText');i.setContent(ea,ba);}else z.getInputElement(aa).value=ba;var fa=y(aa)?"_42fv":'uiButtonNoText';g.conditionClass(aa,fa,!ba);},setIcon:function(aa,ba){if(ba&&!i.isNode(ba))return;aa=v(aa);var ca=i.scry(aa,'.img')[0];if(!ba){ca&&i.remove(ca);return;}g.addClass(ba,'customimg');if(ca!=ba)if(ca){i.replace(ca,ba);}else i.prependContent(aa,ba);}};e.exports=z;});
__d("Locale",["Style"],function(a,b,c,d,e,f){var g=b('Style'),h,i={isRTL:function(){if(h===undefined)h=('rtl'===g.get(document.body,'direction'));return h;}};e.exports=i;});
__d("getOverlayZIndex",["Style"],function(a,b,c,d,e,f){var g=b('Style');function h(i,j){j=j||document.body;var k=[];while(i&&i!==j){k.push(i);i=i.parentNode;}if(i!==j)return 0;for(var l=k.length-1;l>=0;l--){var m=k[l];if(g.get(m,'position')!='static'){var n=parseInt(g.get(m,'z-index'),10);if(!isNaN(n))return n;}}return 0;}e.exports=h;});
__d("Dialog",["Animation","Arbiter","AsyncRequest","Bootloader","Button","ContextualThing","CSS","DOM","Event","Focus","Form","HTML","Keys","Locale","Parent","Run","Style","URI","UserAgent","Vector","bind","copyProperties","createArrayFrom","emptyFunction","getObjectValues","getOverlayZIndex","removeFromArray","shield","tx"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('Arbiter'),i=b('AsyncRequest'),j=b('Bootloader'),k=b('Button'),l=b('ContextualThing'),m=b('CSS'),n=b('DOM'),o=b('Event'),p=b('Focus'),q=b('Form'),r=b('HTML'),s=b('Keys'),t=b('Locale'),u=b('Parent'),v=b('Run'),w=b('Style'),x=b('URI'),y=b('UserAgent'),z=b('Vector'),aa=b('bind'),ba=b('copyProperties'),ca=b('createArrayFrom'),da=b('emptyFunction'),ea=b('getObjectValues'),fa=b('getOverlayZIndex'),ga=b('removeFromArray'),ha=b('shield'),ia=b('tx'),ja=function(){var la=document.body,ma=document.createElement('div'),na=document.createElement('div');la.insertBefore(ma,la.firstChild);la.insertBefore(na,la.firstChild);ma.style.position='fixed';ma.style.top='20px';var oa=ma.offsetTop!==na.offsetTop;la.removeChild(ma);la.removeChild(na);ja=da.thatReturns(oa);return oa;};function ka(la){this._show_loading=true;this._auto_focus=true;this._submit_on_enter=false;this._fade_enabled=true;this._onload_handlers=[];this._top=125;this._uniqueID='dialog_'+ka._globalCount++;this._content=null;this._obj=null;this._popup=null;this._overlay=null;this._shim=null;this._causal_elem=null;this._previous_focus=null;this._buttons=[];this._buildDialog();if(la)this._setFromModel(la);ka._init();}ka.prototype.show=function(){this._showing=true;if(this._async_request){if(this._show_loading)this.showLoading();}else this._update();return this;};ka.prototype.showLoading=function(){this._loading=true;m.addClass(this._frame,'dialog_loading_shown');this._renderDialog();return this;};ka.prototype.hide=function(){if(!this._showing&&!this._loading)return this;this._showing=false;if(this._autohide_timeout){clearTimeout(this._autohide_timeout);this._autohide_timeout=null;}if(this._fade_enabled&&ka._stack.length<=1){this._fadeOut();}else this._hide();return this;};ka.prototype.cancel=function(){if(!this._cancelHandler||this._cancelHandler()!==false)this.hide();};ka.prototype.getRoot=function(){return this._obj;};ka.prototype.getBody=function(){return n.scry(this._obj,'div.dialog_body')[0];};ka.prototype.getButtonElement=function(la){if(typeof la=='string')la=ka._findButton(this._buttons,la);if(!la||!la.name)return null;var ma=n.scry(this._popup,'input'),na=function(oa){return oa.name==la.name;};return ma.filter(na)[0]||null;};ka.prototype.getContentNode=function(){return n.find(this._content,'div.dialog_content');};ka.prototype.getFormData=function(){return q.serialize(this.getContentNode());};ka.prototype.setAllowCrossPageTransition=function(la){this._cross_transition=la;return this;};ka.prototype.setAllowCrossQuicklingNavigation=function(la){this._cross_quickling=la;return this;};ka.prototype.setShowing=function(){this.show();return this;};ka.prototype.setHiding=function(){this.hide();return this;};ka.prototype.setTitle=function(la){var ma=this._nodes.title,na=this._nodes.title_inner,oa=this._nodes.content;n.setContent(na,this._format(la||''));m.conditionShow(ma,!!la);m.conditionClass(oa,'dialog_content_titleless',!la);return this;};ka.prototype.setBody=function(la){n.setContent(this._nodes.body,this._format(la));return this;};ka.prototype.setExtraData=function(la){this._extra_data=la;return this;};ka.prototype.setReturnData=function(la){this._return_data=la;return this;};ka.prototype.setShowLoading=function(la){this._show_loading=la;return this;};ka.prototype.setFullBleed=function(la){this._full_bleed=la;this._updateWidth();m.conditionClass(this._obj,'full_bleed',la);return this;};ka.prototype.setCausalElement=function(la){this._causal_elem=la;return this;};ka.prototype.setUserData=function(la){this._user_data=la;return this;};ka.prototype.getUserData=function(){return this._user_data;};ka.prototype.setAutohide=function(la){if(la){if(this._showing){this._autohide_timeout=setTimeout(ha(this.hide,this),la);}else this._autohide=la;}else{this._autohide=null;if(this._autohide_timeout){clearTimeout(this._autohide_timeout);this._autohide_timeout=null;}}return this;};ka.prototype.setSummary=function(la){var ma=this._nodes.summary;n.setContent(ma,this._format(la||''));m.conditionShow(ma,!!la);return this;};ka.prototype.setButtons=function(la){var ma,na;if(!(la instanceof Array)){ma=ca(arguments);}else ma=la;for(var oa=0;oa<ma.length;++oa)if(typeof ma[oa]=='string'){na=ka._findButton(ka._STANDARD_BUTTONS,ma[oa]);ma[oa]=na;}this._buttons=ma;var pa=[];if(ma&&ma.length>0)for(var qa=0;qa<ma.length;qa++){na=ma[qa];var ra=n.create('input',{type:'button',name:na.name||'',value:na.label}),sa=n.create('label',{className:'uiButton uiButtonLarge uiButtonConfirm'},ra);if(na.className){na.className.split(/\s+/).forEach(function(ua){m.addClass(sa,ua);});if(m.hasClass(sa,'inputaux')){m.removeClass(sa,'inputaux');m.removeClass(sa,'uiButtonConfirm');}if(m.hasClass(sa,'uiButtonSpecial'))m.removeClass(sa,'uiButtonConfirm');}if(na.icon)n.prependContent(sa,n.create('img',{src:na.icon,className:'img mrs'}));if(na.disabled)k.setEnabled(sa,false);o.listen(ra,'click',this._handleButton.bind(this,na.name));for(var ta in na)if(ta.indexOf('data-')===0&&ta.length>5)ra.setAttribute(ta,na[ta]);pa.push(sa);}n.setContent(this._nodes.buttons,pa);this._updateButtonVisibility();return this;};ka.prototype.setButtonsMessage=function(la){n.setContent(this._nodes.button_message,this._format(la||''));this._has_button_message=!!la;this._updateButtonVisibility();return this;};ka.prototype._updateButtonVisibility=function(){var la=this._buttons.length>0||this._has_button_message;m.conditionShow(this._nodes.button_wrapper,la);m.conditionClass(this._obj,'omitDialogFooter',!la);};ka.prototype.setClickButtonOnEnter=function(la,ma){this._clickOnEnterTarget=la;if(!this._clickOnEnterListener)this._clickOnEnterListener=o.listen(this._nodes.body,'keypress',function(event){var na=event.getTarget();if(na&&na.id===this._clickOnEnterTarget)if(o.getKeyCode(event)==s.RETURN){this._handleButton(ma);event.kill();}return true;}.bind(this));return this;};ka.prototype.setStackable=function(la,ma){this._is_stackable=la;this._shown_while_stacked=la&&ma;return this;};ka.prototype.setHandler=function(la){this._handler=la;return this;};ka.prototype.setCancelHandler=function(la){this._cancelHandler=ka.call_or_eval.bind(null,this,la);return this;};ka.prototype.setCloseHandler=function(la){this._close_handler=ka.call_or_eval.bind(null,this,la);return this;};ka.prototype.clearHandler=function(){return this.setHandler(null);};ka.prototype.setPostURI=function(la,ma){if(ma===undefined)ma=true;if(ma){this.setHandler(this._submitForm.bind(this,'POST',la));}else this.setHandler(function(){q.post(la,this.getFormData());this.hide();}.bind(this));return this;};ka.prototype.setGetURI=function(la){this.setHandler(this._submitForm.bind(this,'GET',la));return this;};ka.prototype.setModal=function(la){this._modal=la;m.conditionClass(this._obj,'generic_dialog_modal',la);return this;};ka.prototype.setSemiModal=function(la){if(la){this.setModal(true);this._semiModalListener=o.listen(this._obj,'click',function(ma){if(!n.contains(this._popup,ma.getTarget()))this.hide();}.bind(this));}else this._semiModalListener&&this._semiModalListener.remove();this._semi_modal=la;return this;};ka.prototype.setWideDialog=function(la){this._wide_dialog=la;this._updateWidth();return this;};ka.prototype.setContentWidth=function(la){this._content_width=la;this._updateWidth();return this;};ka.prototype.setTitleLoading=function(la){if(la===undefined)la=true;var ma=n.find(this._popup,'h2.dialog_title');if(ma)m.conditionClass(ma,'loading',la);return this;};ka.prototype.setSecure=function(la){m.conditionClass(this._nodes.title,'secure',la);return this;};ka.prototype.setClassName=function(la){la.split(/\s+/).forEach(m.addClass.bind(m,this._obj));return this;};ka.prototype.setFadeEnabled=function(la){this._fade_enabled=la;return this;};ka.prototype.setFooter=function(la){var ma=this._nodes.footer;n.setContent(ma,this._format(la||''));m.conditionShow(ma,!!la);return this;};ka.prototype.setAutoFocus=function(la){this._auto_focus=la;return this;};ka.prototype.setTop=function(la){this._top=la;this._resetDialogObj();return this;};ka.prototype.onloadRegister=function(la){ca(la).forEach(function(ma){if(typeof ma=='string')ma=new Function(ma);this._onload_handlers.push(ma.bind(this));}.bind(this));return this;};ka.prototype.setAsyncURL=function(la){return this.setAsync(new i(la));};ka.prototype.setAsync=function(la){var ma=function(ua){if(this._async_request!=la)return;this._async_request=null;var va=ua.getPayload(),wa=va;if(this._loading)this._showing=true;if(typeof wa=='string'){this.setBody(wa);}else this._setFromModel(wa);this._update();}.bind(this),na=la.getData();na.__d=1;la.setData(na);var oa=la.getHandler()||da;la.setHandler(function(ua){oa(ua);ma(ua);});var pa=la,qa=pa.getErrorHandler()||da,ra=pa.getTransportErrorHandler()||da,sa=function(){this._async_request=null;this._loading=false;if(this._showing&&this._shown_while_stacked){this._update();}else this._hide(this._is_stackable);}.bind(this),ta=pa.getServerDialogCancelHandler()||sa;pa.setAllowCrossPageTransition(this._cross_transition).setErrorHandler(function(ua){sa();qa(ua);}).setTransportErrorHandler(function(ua){sa();ra(ua);}).setServerDialogCancelHandler(ta);la.send();this._async_request=la;if(this._showing)this.show();return this;};ka.prototype._format=function(la){if(typeof la=='string'){la=r(la);}else la=r.replaceJSONWrapper(la);if(la instanceof r)la.setDeferred(true);return la;};ka.prototype._update=function(){if(!this._showing)return;if(this._autohide&&!this._async_request&&!this._autohide_timeout)this._autohide_timeout=setTimeout(aa(this,'hide'),this._autohide);m.removeClass(this._frame,'dialog_loading_shown');this._loading=false;this._renderDialog();this._runOnloads();this._previous_focus=document.activeElement;p.set(this._frame);};ka.prototype._runOnloads=function(){for(var la=0;la<this._onload_handlers.length;++la)try{this._onload_handlers[la]();}catch(ma){}this._onload_handlers=[];};ka.prototype._updateWidth=function(){var la=2*ka._BORDER_WIDTH;if(ka._isUsingCSSBorders())la+=2*ka._HALO_WIDTH;if(this._content_width){la+=this._content_width;if(!this._full_bleed)la+=2*ka._PADDING_WIDTH;}else if(this._wide_dialog){la+=ka.SIZE.WIDE;}else la+=ka.SIZE.STANDARD;this._popup.style.width=la+'px';};ka.prototype._updateZIndex=function(){if(!this._hasSetZIndex&&this._causal_elem){var la=fa(this._causal_elem),ma=this._causal_elem;while(!la&&(ma=l.getContext(ma)))la=fa(ma);this._hasSetZIndex=la>(this._modal?400:200);w.set(this._obj,'z-index',this._hasSetZIndex?la:'');}};ka.prototype._renderDialog=function(){this._updateZIndex();this._pushOntoStack();this._obj.style.height=(this._modal&&y.ie()<7)?z.getDocumentDimensions().y+'px':null;if(this._obj&&this._obj.style.display){this._obj.style.visibility='hidden';this._obj.style.display='';this.resetDialogPosition();this._obj.style.visibility='';this._obj.dialog=this;}else this.resetDialogPosition();clearInterval(this.active_hiding);this.active_hiding=setInterval(this._activeResize.bind(this),500);this._submit_on_enter=false;if(this._auto_focus){var la=q.getFirstElement(this._content,['input[type="text"]','textarea','input[type="password"]']);if(la){q.focusFirst.bind(this,this._content).defer();}else this._submit_on_enter=true;}var ma=z.getElementDimensions(this._content).y+z.getElementPosition(this._content).y;ka._bottoms.push(ma);this._bottom=ma;ka._updateMaxBottom();return this;};ka.prototype._buildDialog=function(){this._obj=n.create('div',{className:'generic_dialog',id:this._uniqueID});this._obj.style.display='none';n.appendContent(document.body,this._obj);if(!this._popup)this._popup=n.create('div',{className:'generic_dialog_popup'});this._obj.appendChild(this._popup);if(y.ie()<7&&!this._shim)j.loadModules(['IframeShim'],function(xa){this._shim=new xa(this._popup);});m.addClass(this._obj,'pop_dialog');if(t.isRTL())m.addClass(this._obj,'pop_dialog_rtl');var la;if(ka._isUsingCSSBorders()){la='<div class="pop_container_advanced">'+'<div class="pop_content" id="pop_content"></div>'+'</div>';}else la='<div class="pop_container">'+'<div class="pop_verticalslab"></div>'+'<div class="pop_horizontalslab"></div>'+'<div class="pop_topleft"></div>'+'<div class="pop_topright"></div>'+'<div class="pop_bottomright"></div>'+'<div class="pop_bottomleft"></div>'+'<div class="pop_content pop_content_old" id="pop_content"></div>'+'</div>';n.setContent(this._popup,r(la));var ma=n.find(this._popup,'div.pop_content');ma.setAttribute('tabIndex','0');ma.setAttribute('role','alertdialog');this._frame=this._content=ma;var na=n.create('div',{className:'dialog_loading'},"\u0141adowanie..."),oa=n.create('span'),pa=n.create('h2',{className:'dialog_title hidden_elem',id:'title_'+this._uniqueID},oa),qa=n.create('div',{className:'dialog_summary hidden_elem'}),ra=n.create('div',{className:'dialog_body'}),sa=n.create('div',{className:'rfloat mlm'}),ta=n.create('div',{className:'dialog_buttons_msg'}),ua=n.create('div',{className:'dialog_buttons clearfix hidden_elem'},[sa,ta]),va=n.create('div',{className:'dialog_footer hidden_elem'}),wa=n.create('div',{className:'dialog_content'},[qa,ra,ua,va]);this._nodes={summary:qa,body:ra,buttons:sa,button_message:ta,button_wrapper:ua,footer:va,content:wa,title:pa,title_inner:oa};n.setContent(this._frame,[pa,wa,na]);};ka.prototype._updateShim=function(){return this._shim&&this._shim.show();};ka.prototype._activeResize=function(){if(this.last_offset_height!=this._content.offsetHeight){this.last_offset_height=this._content.offsetHeight;this.resetDialogPosition();}};ka.prototype.resetDialogPosition=function(){if(!this._popup)return;this._resetDialogObj();this._updateShim();};ka.prototype._resetDialogObj=function(){var la=2*ka._PAGE_MARGIN,ma=z.getViewportDimensions(),na=ma.x-la,oa=ma.y-la,pa=2*ka._HALO_WIDTH,qa=z.getElementDimensions(this._content),ra=qa.x+pa,sa=qa.y+pa,ta=this._top,ua=na-ra,va=oa-sa;if(va<0){ta=ka._PAGE_MARGIN;}else if(ta>va)ta=ka._PAGE_MARGIN+(Math.max(va,0)/2);var wa=ja();if(!wa)ta+=z.getScrollPosition().y;w.set(this._popup,'marginTop',ta+'px');var xa=wa&&(ua<0||va<0);m.conditionClass(this._obj,'generic_dialog_fixed_overflow',xa);m.conditionClass(document.documentElement,'generic_dialog_overflow_mode',xa);};ka.prototype._fadeOut=function(la){if(!this._popup)return;try{new g(this._obj).duration(0).checkpoint().to('opacity',0).hide().duration(250).ondone(this._hide.bind(this,la)).go();}catch(ma){this._hide(la);}};ka.prototype._hide=function(la){if(this._obj)this._obj.style.display='none';m.removeClass(document.documentElement,'generic_dialog_overflow_mode');this._updateShim();clearInterval(this.active_hiding);if(this._bottom){var ma=ka._bottoms;ma.splice(ma.indexOf(this._bottom),1);ka._updateMaxBottom();}if(this._previous_focus&&document.activeElement&&n.contains(this._obj,document.activeElement))p.set(this._previous_focus);if(la)return;this.destroy();};ka.prototype.destroy=function(){this._popFromStack();clearInterval(this.active_hiding);if(this._obj){n.remove(this._obj);this._obj=null;this._shim&&this._shim.hide();this._shim=null;}this._clickOnEnterListener&&this._clickOnEnterListener.remove();if(this._close_handler)this._close_handler({return_data:this._return_data});};ka.prototype._handleButton=function(la){if(typeof la=='string')la=ka._findButton(this._buttons,la);var ma=ka.call_or_eval(la,la.handler);if(ma===false)return;if(la.name=='cancel'){this.cancel();}else if(ka.call_or_eval(this,this._handler,{button:la})!==false)this.hide();};ka.prototype._submitForm=function(la,ma,na){var oa=this.getFormData();if(na)oa[na.name]=na.label;if(this._extra_data)ba(oa,this._extra_data);var pa=new i().setURI(ma).setData(oa).setMethod(la).setNectarModuleDataSafe(this._causal_elem).setReadOnly(la=='GET');this.setAsync(pa);return false;};ka.prototype._setFromModel=function(la){var ma={};ba(ma,la);for(var na in ma){if(na=='onloadRegister'){this.onloadRegister(ma[na]);continue;}var oa=this['set'+na.substr(0,1).toUpperCase()+na.substr(1)];oa.apply(this,ca(ma[na]));}};ka.prototype._updateBottom=function(){var la=z.getElementDimensions(this._content).y+z.getElementPosition(this._content).y;ka._bottoms[ka._bottoms.length-1]=la;ka._updateMaxBottom();};ka.prototype._pushOntoStack=function(){var la=ka._stack;if(!la.length)h.inform('layer_shown',{type:'Dialog'});ga(la,this);la.push(this);for(var ma=la.length-2;ma>=0;ma--){var na=la[ma];if(!na._is_stackable&&!na._async_request){na._hide();}else if(!na._shown_while_stacked)na._hide(true);}};ka.prototype._popFromStack=function(){var la=ka._stack,ma=(la[la.length-1]===this);ga(la,this);if(la.length){if(ma)la[la.length-1].show();}else h.inform('layer_hidden',{type:'Dialog'});};ka._updateMaxBottom=function(){ka.max_bottom=Math.max.apply(Math,ka._bottoms);};ka._isUsingCSSBorders=function(){return y.ie()<7;};ka.newButton=function(la,ma,na,oa){var pa={name:la,label:ma};if(na)pa.className=na;if(oa)pa.handler=oa;return pa;};ka.getCurrent=function(){var la=ka._stack;return la.length?la[la.length-1]:null;};ka.hideCurrent=function(){var la=ka.getCurrent();la&&la.hide();};ka.bootstrap=function(la,ma,na,oa,pa,qa){ma=ma||{};ba(ma,new x(la).getQueryData());oa=oa||(na?'GET':'POST');var ra=u.byClass(qa,'stat_elem')||qa;if(ra&&m.hasClass(ra,'async_saving'))return false;var sa=new i().setReadOnly(!!na).setMethod(oa).setRelativeTo(qa).setStatusElement(ra).setURI(la).setNectarModuleDataSafe(qa).setData(ma),ta=new ka(pa).setCausalElement(qa).setAsync(sa);ta.show();return false;};ka.showFromModel=function(la,ma){var na=new ka(la).setCausalElement(ma).show();if(la.hiding)na.hide();};ka._init=function(){this._init=da;v.onLeave(ha(ka._tearDown,null,false));h.subscribe('page_transition',ha(ka._tearDown,null,true));o.listen(document.documentElement,'keydown',function(event){if(o.getKeyCode(event)==s.ESC&&!event.getModifiers().any){if(ka._escape())event.kill();}else if(o.getKeyCode(event)==s.RETURN&&!event.getModifiers().any)if(ka._enter())event.kill();});o.listen(window,'resize',function(event){var la=ka.getCurrent();la&&la._resetDialogObj();});};ka._findButton=function(la,ma){if(la)for(var na=0;na<la.length;++na)if(la[na].name==ma)return la[na];return null;};ka._tearDown=function(la){var ma=ka._stack.slice();for(var na=ma.length-1;na>=0;na--)if((la&&!ma[na]._cross_transition)||(!la&&!ma[na]._cross_quickling))ma[na].hide();};ka._escape=function(){var la=ka.getCurrent();if(!la)return false;var ma=la._semi_modal,na=la._buttons;if(!na.length&&!ma)return false;if(ma&&!na.length){la.hide();return true;}var oa,pa=ka._findButton(na,'cancel');if(la._cancelHandler){la.cancel();return true;}else if(pa){oa=pa;}else if(na.length==1){oa=na[0];}else return false;la._handleButton(oa);return true;};ka._enter=function(){var la=ka.getCurrent();if(!la||!la._submit_on_enter)return false;if(document.activeElement!=la._frame)return false;var ma=la._buttons;if(!ma)return false;la._handleButton(ma[0]);return true;};ka.call_or_eval=function(la,ma,na){if(!ma)return undefined;na=na||{};if(typeof ma=='string'){var oa=Object.keys(na).join(', ');ma=(eval)('({f: function('+oa+') { '+ma+'}})').f;}return ma.apply(la,ea(na));};ba(ka,{OK:{name:'ok',label:"OK"},CANCEL:{name:'cancel',label:"Anuluj",className:'inputaux'},CLOSE:{name:'close',label:"Zamknij"},NEXT:{name:'next',label:"Nast\u0119pny"},SAVE:{name:'save',label:"Zapisz"},SUBMIT:{name:'submit',label:"Wy\u015blij"},CONFIRM:{name:'confirm',label:"Potwierd\u017a"},DELETE:{name:'delete',label:"Usu\u0144"},_globalCount:0,_bottoms:[0],max_bottom:0});ba(ka,{OK_AND_CANCEL:[ka.OK,ka.CANCEL],_STANDARD_BUTTONS:[ka.OK,ka.CANCEL,ka.CLOSE,ka.SAVE,ka.SUBMIT,ka.CONFIRM,ka.DELETE],SIZE:{WIDE:555,STANDARD:445},_HALO_WIDTH:10,_BORDER_WIDTH:1,_PADDING_WIDTH:10,_PAGE_MARGIN:40,_stack:[]});ba(ka.prototype,{_cross_quickling:false,_cross_transition:false,_loading:false,_showing:false});e.exports=ka;a.Dialog=ka;});
__d("DocumentTitle",["Arbiter"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=document.title,i=null,j=1500,k=[],l=0,m=null,n=false;function o(){if(k.length>0){if(!n){p(k[l].title);l=++l%k.length;}else q();}else{clearInterval(m);m=null;q();}}function p(s){document.title=s;n=true;}function q(){r.set(i||h,true);n=false;}var r={get:function(){return h;},set:function(s,t){document.title=s;if(!t){h=s;i=null;g.inform('update_title',s);}else i=s;},blink:function(s){var t={title:s};k.push(t);if(m===null)m=setInterval(o,j);return {stop:function(){var u=k.indexOf(t);if(u>=0){k.splice(u,1);if(l>u){l--;}else if(l==u&&l==k.length)l=0;}}};}};e.exports=r;});
__d("throttle",["copyProperties"],function(a,b,c,d,e,f){var g=b('copyProperties');function h(j,k,l){return i(j,k,l,false,false);}g(h,{acrossTransitions:function(j,k,l){return i(j,k,l,true,false);},withBlocking:function(j,k,l){return i(j,k,l,false,true);}});function i(j,k,l,m,n){if(k==null)k=100;var o,p,q;function r(){p=Date.now();if(o){j.apply(l,o);o=null;q=setTimeout(r,k,!m);}else q=false;}return function s(){o=arguments;if(!q||(Date.now()-p>k))if(n){r();}else q=setTimeout(r,0,!m);};}e.exports=h;});
__d("FullScreen",["Event","Arbiter","CSS","UserAgent","copyProperties","throttle"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Arbiter'),i=b('CSS'),j=b('UserAgent'),k=b('copyProperties'),l=b('throttle'),m={},n=k(new h(),{listenForEvent:function(p){var q=l(this.onChange,0,this);if(!m[p.id]){m[p.id]=true;g.listen(p,{webkitfullscreenchange:q,mozfullscreenchange:q,fullscreenchange:q});}},enableFullScreen:function(p){this.listenForEvent(p);if(p.webkitRequestFullScreen){if(j.chrome()){p.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);}else p.webkitRequestFullScreen();}else if(p.mozRequestFullScreen){p.mozRequestFullScreen();}else if(p.requestFullScreen){p.requestFullScreen();}else return false;return true;},disableFullScreen:function(){if(document.webkitCancelFullScreen){document.webkitCancelFullScreen();}else if(document.mozCancelFullScreen){document.mozCancelFullScreen();}else if(document.cancelFullScreen){document.cancelFullScreen();}else if(document.exitFullScreen){document.exitFullScreen();}else return false;return true;},isFullScreen:function(){return (document.webkitIsFullScreen||document.fullScreen||document.mozFullScreen);},toggleFullScreen:function(p){if(this.isFullScreen()){this.disableFullScreen();return false;}else return this.enableFullScreen(p);return false;},onChange:function(){var p=this.isFullScreen();i.conditionClass(document.body,'fullScreen',p);this.inform('changed');},isSupported:function(){return (document.webkitCancelFullScreen&&j.chrome())||document.mozCancelFullScreen||document.cancelFullScreen||document.exitFullScreen;}}),o=l(n.onChange,0,n);g.listen(document,{webkitfullscreenchange:o,mozfullscreenchange:o,fullscreenchange:o});e.exports=n;});
__d("HistoryManager",["Event","function-extensions","Cookie","Env","URI","UserAgent","copyProperties","emptyFunction","goOrReplace","isInIframe"],function(a,b,c,d,e,f){var g=b('Event');b('function-extensions');var h=b('Cookie'),i=b('Env'),j=b('URI'),k=b('UserAgent'),l=b('copyProperties'),m=b('emptyFunction'),n=b('goOrReplace'),o=b('isInIframe'),p={_IFRAME_BASE_URI:'http://static.ak.facebook.com/common/history_manager.php',history:null,current:0,fragment:null,_setIframeSrcFragment:function(q){q=q.toString();var r=p.history.length-1;p.iframe.src=p._IFRAME_BASE_URI+'?|index='+r+'#'+encodeURIComponent(q);return p;},getIframeSrcFragment:function(){return decodeURIComponent(j(p.iframe.contentWindow.document.location.href).getFragment());},nextframe:function(q,r){if(r){p._setIframeSrcFragment(q);return;}if(q!==undefined){p.iframeQueue.push(q);}else{p.iframeQueue.splice(0,1);p.iframeTimeout=null;p.checkURI();}if(p.iframeQueue.length&&!p.iframeTimeout){var s=p.iframeQueue[0];p.iframeTimeout=setTimeout(function(){p._setIframeSrcFragment(s);},100,false);}},isInitialized:function(){return !!p._initialized;},init:function(){if(!i.ALLOW_TRANSITION_IN_IFRAME&&o())return;if(p._initialized)return p;var q=j(),r=q.getFragment()||'';if(r.charAt(0)==='!'){r=r.substr(1);q.setFragment(r);}if(j.getRequestURI(false).getProtocol().toLowerCase()=='https')p._IFRAME_BASE_URI='https://s-static.ak.facebook.com/common/history_manager.php';l(p,{_initialized:true,fragment:r,orig_fragment:r,history:[q],callbacks:[],lastChanged:Date.now(),canonical:j('#'),fragmentTimeout:null,user:0,iframeTimeout:null,iframeQueue:[],enabled:true,debug:m});if(window.history&&history.pushState){this.lastURI=document.URL;window.history.replaceState(this.lastURI,null);g.listen(window,'popstate',function(s){if(s&&s.state&&p.lastURI!=s.state){p.lastURI=s.state;p.lastChanged=Date.now();p.notify(j(s.state).getUnqualifiedURI().toString());}}.bind(p));if(k.webkit()<534||k.chrome()<=13){setInterval(p.checkURI,42,false);p._updateRefererURI(this.lastURI);}return p;}p._updateRefererURI(j.getRequestURI(false));if(k.webkit()<500||k.firefox()<2){p.enabled=false;return p;}if(k.ie()<8){p.iframe=document.createElement('iframe');l(p.iframe.style,{width:'0',height:'0',frameborder:'0',left:'0',top:'0',position:'absolute'});p._setIframeSrcFragment(r);document.body.insertBefore(p.iframe,document.body.firstChild);}else if('onhashchange' in window){g.listen(window,'hashchange',function(){p.checkURI.bind(p).defer();});}else setInterval(p.checkURI,42,false);return p;},registerURIHandler:function(q){p.callbacks.push(q);return p;},setCanonicalLocation:function(q){p.canonical=j(q);return p;},notify:function(q){if(q==p.orig_fragment)q=p.canonical.getFragment();for(var r=0;r<p.callbacks.length;r++)try{if(p.callbacks[r](q))return true;}catch(s){}return false;},checkURI:function(){if(Date.now()-p.lastChanged<400)return;if(window.history&&history.pushState){var q=j(document.URL).removeQueryData('ref').toString(),r=j(p.lastURI).removeQueryData('ref').toString();if(q!=r){p.lastChanged=Date.now();p.lastURI=q;if(k.webkit()<534)p._updateRefererURI(q);p.notify(j(q).getUnqualifiedURI().toString());}return;}if(k.ie()<8&&p.iframeQueue.length)return;if(k.webkit()&&window.history.length==200){if(!p.warned)p.warned=true;return;}var s=j().getFragment();if(s.charAt(0)=='!')s=s.substr(1);if(k.ie()<8)s=p.getIframeSrcFragment();s=s.replace(/%23/g,'#');if(s!=p.fragment.replace(/%23/g,'#')){p.debug([s,' vs ',p.fragment,'whl: ',window.history.length,'QHL: ',p.history.length].join(' '));for(var t=p.history.length-1;t>=0;--t)if(p.history[t].getFragment().replace(/%23/g,'#')==s)break;++p.user;if(t>=0){p.go(t-p.current);}else p.go('#'+s);--p.user;}},_updateRefererURI:function(q){q=q.toString();if(q.charAt(0)!='/'&&q.indexOf('//')==-1)return;var r=new j(window.location);if(r.isFacebookURI()){var s=r.getPath()+window.location.search;}else var s='';var t=j(q).getQualifiedURI().setFragment(s).toString(),u=2048;if(t.length>u)t=t.substring(0,u)+'...';h.set('x-referer',t);},go:function(q,r,s){if(window.history&&history.pushState){r||typeof(q)=='number';var t=j(q).removeQueryData('ref').toString();p.lastChanged=Date.now();this.lastURI=t;if(s){window.history.replaceState(q,null,t);}else window.history.pushState(q,null,t);if(k.webkit()<534)p._updateRefererURI(q);return false;}p.debug('go: '+q);if(r===undefined)r=true;if(!p.enabled)if(!r)return false;if(typeof(q)=='number'){if(!q)return false;var u=q+p.current,v=Math.max(0,Math.min(p.history.length-1,u));p.current=v;u=p.history[v].getFragment()||p.orig_fragment;u=j(u).removeQueryData('ref').getUnqualifiedURI().toString();p.fragment=u;p.lastChanged=Date.now();if(k.ie()<8){if(p.fragmentTimeout)clearTimeout(p.fragmentTimeout);p._temporary_fragment=u;p.fragmentTimeout=setTimeout(function(){window.location.hash='#!'+u;delete p._temporary_fragment;},750,false);if(!p.user)p.nextframe(u,s);}else if(!p.user)n(window.location,window.location.href.split('#')[0]+'#!'+u,s);if(r)p.notify(u);p._updateRefererURI(u);return false;}q=j(q);if(q.getDomain()==j().getDomain())q=j('#'+q.getUnqualifiedURI());var w=p.history[p.current].getFragment(),x=q.getFragment();if(x==w||(w==p.orig_fragment&&x==p.canonical.getFragment())){if(r)p.notify(x);p._updateRefererURI(x);return false;}if(s)p.current--;var y=(p.history.length-p.current)-1;p.history.splice(p.current+1,y);p.history.push(j(q));return p.go(1,r,s);},getCurrentFragment:function(){var q=p._temporary_fragment!==undefined?p._temporary_fragment:j.getRequestURI(false).getFragment();return q==p.orig_fragment?p.canonical.getFragment():q;}};e.exports=p;});
__d("LinkController",["Event","DataStore","Parent","trackReferrer"],function(a,b,c,d,e,f){var g=b('Event'),h=b('DataStore'),i=b('Parent'),j=b('trackReferrer'),k='LinkControllerHandler',l=[],m=[];function n(event){var r=i.byTag(event.getTarget(),'a'),s=r&&r.getAttribute('href',2);if(!s||r.rel||!p(s)||h.get(r,k))return;var t=g.listen(r,'click',function(u){if(s.charAt(s.length-1)=='#'){u.prevent();return;}j(r,s);o(r,u);});h.set(r,k,t);}function o(r,event){if(r.target||r.rel||event.getModifiers().any||(event.which&&event.which!=1))return;var s=l.concat(m);for(var t=0,u=s.length;t<u;t++)if(s[t](r,event)===false)return event.prevent();}function p(r){var s=r.match(/^(\w+):/);return !s||s[1].match(/^http/i);}var q={registerHandler:function(r){l.push(r);},registerFallbackHandler:function(r){m.push(r);}};g.listen(document.documentElement,'mousedown',n);g.listen(document.documentElement,'keydown',n);e.exports=q;});
__d("OnloadHooks",["Arbiter","ErrorUtils","InitialJSLoader","OnloadEvent"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ErrorUtils'),i=b('InitialJSLoader'),j=b('OnloadEvent');function k(){var r=a.CavalryLogger;if(!window.loaded&&r)r.getInstance().setTimeStamp('t_prehooks');n('onloadhooks');if(!window.loaded&&r)r.getInstance().setTimeStamp('t_hooks');window.loaded=true;g.inform('uipage_onload',true,g.BEHAVIOR_STATE);}function l(){n('onafterloadhooks');window.afterloaded=true;}function m(r,s){return h.applyWithGuard(r,null,null,function(t){t.event_type=s;t.category='runhook';});}function n(r){var s=(r=='onbeforeleavehooks')||(r=='onbeforeunloadhooks');do{var t=window[r];if(!t)break;if(!s)window[r]=null;for(var u=0;u<t.length;u++){var v=m(t[u],r);if(s&&v)return v;}}while(!s&&window[r]);}function o(){if(!window.loaded){window.loaded=true;n('onloadhooks');}if(!window.afterloaded){window.afterloaded=true;n('onafterloadhooks');}}function p(){g.registerCallback(k,[j.ONLOAD_DOMCONTENT_CALLBACK,i.INITIAL_JS_READY]);g.registerCallback(l,[j.ONLOAD_DOMCONTENT_CALLBACK,j.ONLOAD_CALLBACK,i.INITIAL_JS_READY]);g.subscribe(j.ONBEFOREUNLOAD,function(r,s){s.warn=n('onbeforeleavehooks')||n('onbeforeunloadhooks');if(!s.warn){window.loaded=false;window.afterloaded=false;}},g.SUBSCRIBE_NEW);g.subscribe(j.ONUNLOAD,function(r,s){n('onunloadhooks');n('onafterunloadhooks');},g.SUBSCRIBE_NEW);}var q={_onloadHook:k,_onafterloadHook:l,runHook:m,runHooks:n,keepWindowSetAsLoaded:o};p();a.OnloadHooks=e.exports=q;});
__d("areEqual",[],function(a,b,c,d,e,f){var g=function(k,l,m,n){if(k===l)return k!==0||1/k==1/l;if(k==null||l==null)return false;if(typeof k!='object'||typeof l!='object')return false;var o=Object.prototype.toString,p=o.call(k);if(p!=o.call(l))return false;switch(p){case '[object String]':return k==String(l);case '[object Number]':return isNaN(k)||isNaN(l)?false:k==Number(l);case '[object Date]':case '[object Boolean]':return +k==+l;case '[object RegExp]':return k.source==l.source&&k.global==l.global&&k.multiline==l.multiline&&k.ignoreCase==l.ignoreCase;}var q=m.length;while(q--)if(m[q]==k)return n[q]==l;m.push(k);n.push(l);var r=0;if(p==='[object Array]'){r=k.length;if(r!==l.length)return false;while(r--)if(!g(k[r],l[r],m,n))return false;}else{if(k.constructor!==l.constructor)return false;if(k.hasOwnProperty('valueOf')&&l.hasOwnProperty('valueOf'))return k.valueOf()==l.valueOf();var s=Object.keys(k);if(s.length!=Object.keys(l).length)return false;for(var t=0;t<s.length;t++)if(!g(k[s[t]],l[s[t]],m,n))return false;}m.pop();n.pop();return true;},h=[],i=[],j=function(k,l){var m=h.length?h.pop():[],n=i.length?i.pop():[],o=g(k,l,m,n);m.length=0;n.length=0;h.push(m);i.push(n);return o;};e.exports=j;});
__d("computeRelativeURI",["URI","isEmpty"],function(a,b,c,d,e,f){var g=b('URI'),h=b('isEmpty');function i(k,l){if(!l)return k;if(l.charAt(0)=='/')return l;var m=k.split('/').slice(0,-1);m[0]!=='';l.split('/').forEach(function(n){if(!(n=='.'))if(n=='..'){if(m.length>1)m=m.slice(0,-1);}else m.push(n);});return m.join('/');}function j(k,l){var m=new g(),n=l;k=new g(k);l=new g(l);if(l.getDomain()&&!l.isFacebookURI())return n;var o=k,p=['Protocol','Domain','Port','Path','QueryData','Fragment'];p.forEach(function(q){var r=q=='Path'&&o===k;if(r)m.setPath(i(k.getPath(),l.getPath()));if(!h(l['get'+q]()))o=l;if(!r)m['set'+q](o['get'+q]());});return m;}e.exports=j;});
__d("setTimeoutAcrossTransitions",[],function(a,b,c,d,e,f){function g(h,i){return setTimeout(h,i,false);}e.exports=g;});
__d("PageTransitions",["Arbiter","Dialog","DOMQuery","DOMScroll","Env","Event","Form","HistoryManager","JSLogger","LinkController","OnloadHooks","Parent","URI","UserAgent","Vector","areEqual","clickRefAction","computeRelativeURI","copyProperties","escapeJSQuotes","ge","goOrReplace","htmlize","isInIframe","setTimeoutAcrossTransitions","startsWith","tx","userAction"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('Dialog'),i=b('DOMQuery'),j=b('DOMScroll'),k=b('Env'),l=b('Event'),m=b('Form'),n=b('HistoryManager'),o=b('JSLogger'),p=b('LinkController'),q=b('OnloadHooks'),r=b('Parent'),s=b('URI'),t=b('UserAgent'),u=b('Vector'),v=b('areEqual'),w=b('clickRefAction'),x=b('computeRelativeURI'),y=b('copyProperties'),z=b('escapeJSQuotes'),aa=b('ge'),ba=b('goOrReplace'),ca=b('htmlize'),da=b('isInIframe'),ea=b('setTimeoutAcrossTransitions'),fa=b('startsWith'),ga=b('tx'),ha=b('userAction'),ia={};function ja(ua,va){ia[ua.getUnqualifiedURI()]=va;}function ka(ua){return ia[ua.getUnqualifiedURI()];}function la(ua){delete ia[ua.getUnqualifiedURI()];}var ma=null,na=null;function oa(ua){na=ua;ea(function(){na=null;},0);}function pa(event){if(na){if(!event.isDefaultPrevented()){qa(na);ta.lookBusy(na);sa.go(na.getAttribute('href'));}event.prevent();}else{ma=event.getTarget();ea(function(){ma=null;},0);}}function qa(ua){var va=ua.getAttribute('href'),wa=x(sa._most_recent_uri.getQualifiedURI(),va).toString();if(va!=wa)ua.setAttribute('href',wa);}function ra(event){var ua=event.getTarget();if(m.getAttribute(ua,'rel')||m.getAttribute(ua,'target'))return;w('form',ua,event).set_namespace('page_transition');var va=ha('page_transitions',ua,event,{mode:'DEDUP'}).uai_fallback(null,'form'),wa=new s(m.getAttribute(ua,'action')||''),xa=x(sa._most_recent_uri,wa);ua.setAttribute('action',xa.toString());if((m.getAttribute(ua,'method')||'GET').toUpperCase()==='GET'){var ya=m.serialize(ua),za=ma;if(za&&(i.isNodeOfType(za,'input')&&za.type==='submit'||(za=r.byTag(za,'button')))&&za.name)ya[za.name]=za.value;sa.go(xa.addQueryData(ya));event.kill();}}var sa={_transition_handlers:[],_scroll_locked:false,isInitialized:function(){return !!sa._initialized;},_init:function(){if(k.DISABLE_PAGE_TRANSITIONS)return;if(!k.ALLOW_TRANSITION_IN_IFRAME&&da())return;if(sa._initialized)return sa;sa._initialized=true;var ua=s.getRequestURI(false),va=ua.getUnqualifiedURI(),wa=s(va).setFragment(null),xa=va.getFragment();if(xa.charAt(0)==='!'&&wa.toString()===xa.substr(1))va=wa;y(sa,{_current_uri:va,_most_recent_uri:va,_next_uri:va});var ya;if(fa(ua.getFragment(),'/')){ya=ua.getFragment();}else ya=va;n.init().setCanonicalLocation('#'+ya).registerURIHandler(sa._historyManagerHandler);p.registerFallbackHandler(oa);l.listen(document,'click',pa,l.Priority._BUBBLE);l.listen(document,'submit',ra,l.Priority._BUBBLE);l.listen(window,'scroll',function(){if(!sa._scroll_locked)ja(sa._current_uri,u.getScrollPosition());});return sa;},registerHandler:function(ua,va){sa._init();va=va||5;if(!sa._transition_handlers[va])sa._transition_handlers[va]=[];sa._transition_handlers[va].push(ua);},getCurrentURI:function(ua){if(!sa._current_uri&&!ua)return new s(sa._most_recent_uri);return new s(sa._current_uri);},getMostRecentURI:function(){return new s(sa._most_recent_uri);},getNextURI:function(){return new s(sa._next_uri);},go:function(ua,va){var wa=new s(ua).removeQueryData('quickling').getQualifiedURI();o.create('pagetransition').debug('go',{uri:wa.toString()});la(wa);!va&&w('uri',{href:wa.toString()},null,'INDIRECT');ta.lookBusy();sa._loadPage(wa,function(xa){if(xa){n.go(wa.toString(),false,va);}else ba(window.location,wa,va);});},_historyManagerHandler:function(ua){if(ua.charAt(0)!='/')return false;w('h',{href:ua});ha('page_transitions').uai(null,'history_manager');sa._loadPage(new s(ua),function(va){if(!va)ba(window.location,ua,true);});return true;},_loadPage:function(ua,va){if(s(ua).getFragment()&&v(s(ua).setFragment(null).getQualifiedURI(),s(sa._current_uri).setFragment(null).getQualifiedURI())){g.inform("pre_page_fragment_transition",{from:s(sa._current_uri).getFragment(),to:s(ua).getFragment()});if(sa.restoreScrollPosition(ua)){sa._current_uri=sa._most_recent_uri=ua;ta.stopLookingBusy();g.inform("page_fragment_transition",{fragment:s(ua).getFragment()});return;}}var wa;if(sa._current_uri)wa=ka(sa._current_uri);sa._current_uri=null;sa._next_uri=ua;if(wa)j.scrollTo(wa,false);var xa=function(){sa._scroll_locked=true;var za=sa._handleTransition(ua);va&&va(za);},ya=q.runHooks('onbeforeleavehooks');if(ya){ta.stopLookingBusy();sa._warnBeforeLeaving(ya,xa);}else xa();},_handleTransition:function(ua){window.onbeforeleavehooks=undefined;ta.lookBusy();if(!ua.isSameOrigin())return false;var va,wa=a.AsyncRequest;if(wa)va=wa.getLastID();g.inform("pre_page_transition",{from:sa.getMostRecentURI(),to:ua});for(var xa=sa._transition_handlers.length-1;xa>=0;--xa){var ya=sa._transition_handlers[xa];if(!ya)continue;for(var za=ya.length-1;za>=0;--za)if(ya[za](ua)===true){var ab={sender:this,uri:ua,id:va};try{g.inform("page_transition",ab);}catch(bb){}return true;}else ya.splice(za,1);}return false;},unifyURI:function(){sa._current_uri=sa._most_recent_uri=sa._next_uri;},transitionComplete:function(ua){sa._executeCompletionCallback();ta.stopLookingBusy();sa.unifyURI();if(!ua)sa.restoreScrollPosition(sa._current_uri);try{if(document.activeElement&&document.activeElement.nodeName==='A')document.activeElement.blur();}catch(va){}},_executeCompletionCallback:function(){if(sa._completionCallback)sa._completionCallback();sa._completionCallback=null;},setCompletionCallback:function(ua){sa._completionCallback=ua;},rewriteCurrentURI:function(ua,va){sa.registerHandler(function(){if(ua==sa.getMostRecentURI().getUnqualifiedURI().toString()){sa.transitionComplete();return true;}});sa.go(va,true);},_warnBeforeLeaving:function(ua,va){new h().setTitle("Czy na pewno chcesz opu\u015bci\u0107 t\u0119 stron\u0119?").setBody(ca(ua)).setButtons([{name:'leave_page',label:"Opu\u015b\u0107 t\u0119 stron\u0119",handler:va},{name:'continue_editing',label:"Zosta\u0144 na tej stronie",className:'inputaux'}]).setModal(true).show();},restoreScrollPosition:function(ua){sa._scroll_locked=false;var va=ka(ua);if(va){j.scrollTo(va,false);return true;}function wa(za){if(!za)return null;var ab="a[name='"+z(za)+"']";return i.scry(document.body,ab)[0]||aa(za);}var xa=wa(s(ua).getFragment());if(xa){var ya=u.getElementPosition(xa);ya.x=0;j.scrollTo(ya);return true;}return false;}},ta=window._BusyUIManager||{_looking_busy:false,_original_cursors:[],lookBusy:function(ua){if(ua)ta._giveProgressCursor(ua);if(ta._looking_busy)return;ta._looking_busy=true;ta._giveProgressCursor(document.documentElement);},stopLookingBusy:function(){if(!ta._looking_busy)return;ta._looking_busy=false;while(ta._original_cursors.length){var ua=ta._original_cursors.pop(),va=ua[0],wa=ua[1];if(va.style)va.style.cursor=wa||'';}},_giveProgressCursor:function(ua){if(!t.webkit()){ta._original_cursors.push([ua,ua.style.cursor]);ua.style.cursor='progress';}}};e.exports=sa;a.PageTransitions=sa;});
__d("PostLoadJS",["Bootloader","Run","emptyFunction"],function(a,b,c,d,e,f){var g=b('Bootloader'),h=b('Run'),i=b('emptyFunction');function j(l,m){h.onAfterLoad(function(){g.loadModules.call(g,[l],m);});}var k={loadAndRequire:function(l){j(l,i);},loadAndCall:function(l,m,n){j(l,function(o){o[m].apply(o,n);});}};e.exports=k;});
__d("ScrollAwareDOM",["ArbiterMixin","CSS","DOM","DOMDimensions","DOMPosition","DOMQuery","HTML","Vector","ViewportBounds","copyProperties","isAsyncScrollQuery"],function(a,b,c,d,e,f){var g=b('ArbiterMixin'),h=b('CSS'),i=b('DOM'),j=b('DOMDimensions'),k=b('DOMPosition'),l=b('DOMQuery'),m=b('HTML'),n=b('Vector'),o=b('ViewportBounds'),p=b('copyProperties'),q=b('isAsyncScrollQuery');function r(w,x){return function(){v.monitor(arguments[w],x.curry.apply(x,arguments));};}function s(w){if(!(w instanceof Array))w=[w];for(var x=0;x<w.length;x++){var y=m.replaceJSONWrapper(w[x]);if(y instanceof m){return y.getRootNode();}else if(i.isNode(y))return y;}return null;}function t(w){return k.getElementPosition(w).y>o.getTop();}function u(w){var x=k.getElementPosition(w).y+j.getElementDimensions(w).height,y=j.getViewportDimensions().height-o.getBottom();return x>=y;}var v=p({monitor:function(w,x){if(q())return x();var y=s(w);if(y){var z=!!y.offsetParent;if(z&&(t(y)||u(y)))return x();var aa=n.getDocumentDimensions(),ba=x();if(z||(y.offsetParent&&!t(y))){var ca=n.getDocumentDimensions().sub(aa),da={delta:ca,target:y};if(v.inform('scroll',da)!==false)ca.scrollElementBy(l.getDocumentScrollElement());}return ba;}else return x();},replace:function(w,x){var y=s(x);if(!y||h.hasClass(y,'hidden_elem'))y=w;return v.monitor(y,function(){i.replace(w,x);});},prependContent:r(1,i.prependContent),insertAfter:r(1,i.insertAfter),insertBefore:r(1,i.insertBefore),setContent:r(0,i.setContent),appendContent:r(1,i.appendContent),remove:r(0,i.remove),empty:r(0,i.empty)},g);e.exports=v;});
__d("ControlledReferer",["Event","URI","UserAgent"],function(a,b,c,d,e,f){var g=b('Event'),h=b('URI'),i=b('UserAgent'),j={useFacebookReferer:function(k,l,m){var n=false;function o(){if(n)return;var q=k.contentWindow.location.pathname;if(q!=='/intern/common/referer_frame.php'&&q!=='/common/referer_frame.php')return;n=true;k.contentWindow.document.body.style.margin=0;l();}var p;if(document.domain!=='facebook.com'){p='/intern/common/referer_frame.php';}else if(i.opera()){p='/common/referer_frame.php';}else if(h().isSecure()){p='https://s-static.ak.facebook.com/common/referer_frame.php';}else p='http://static.ak.facebook.com/common/referer_frame.php';if(m)p+='?fb_source='+m;g.listen(k,'load',o);k.src=p;},useFacebookRefererHtml:function(k,l,m){j.useFacebookReferer(k,function(){k.contentWindow.document.body.innerHTML=l;},m);}};e.exports=j;});
__d("SoundRPC",["Event","SoundSynchronizer"],function(a,b,c,d,e,f){var g=b('Event'),h=b('SoundSynchronizer');function i(k,l,m){h.play(k,l,m);}var j={playLocal:i,playRemote:function(k,l,m,n){var o={paths:l,sync:m,loop:n};k.postMessage(JSON.stringify(o),'*');},supportsRPC:function(){return !!window.postMessage;},_listen:function(){g.listen(window,'message',function(k){if(!/\.facebook.com$/.test(k.origin))return;var l=JSON.parse(k.data);i(l.paths,l.sync,l.loop);});}};e.exports=j;});
__d("TabbableElements",["Style","createArrayFrom"],function(a,b,c,d,e,f){var g=b('Style'),h=b('createArrayFrom');function i(l){if(l.tabIndex>=0)return true;switch(l.tagName){case "A":return l.href&&l.rel!="ignore";case "INPUT":return l.type!="hidden"&&l.type!="file"&&!l.disabled;case "BUTTON":case "SELECT":case "TEXTAREA":return !l.disabled;}return false;}function j(l){if(l.offsetHeight===0&&l.offsetWidth===0)return false;while(l!==document&&g.get(l,'visibility')!='hidden')l=l.parentNode;return l===document;}var k={find:function(l){var m=h(l.getElementsByTagName("*"));return m.filter(k.isTabbable);},isTabbable:function(l){return i(l)&&j(l);}};e.exports=k;});
__d("tidyEvent",["Run"],function(a,b,c,d,e,f){var g=b('Run'),h=[];function i(){while(h.length){var k=h.shift();if(k.remove){k._handler&&k.remove();}else k&&k.unsubscribe();}}function j(k){if(!h.length)g.onLeave(i);if(Array.isArray(k)){h=h.concat(k);}else h.push(k);return k;}e.exports=j;});
__d("UserActivity",["Arbiter","Event"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('Event'),i=5000,j=500,k=-5,l=Date.now(),m=l,n={subscribeOnce:function(p){var q=n.subscribe(function(){n.unsubscribe(q);p();});},subscribe:function(p){return g.subscribe('useractivity/activity',p);},unsubscribe:function(p){p.unsubscribe();},isActive:function(p){return (new Date()-l<(p||i));},getLastInformTime:function(){return m;}};function o(event){l=Date.now();var p=l-m;if(p>j){m=l;g.inform('useractivity/activity',{event:event,idleness:p,last_inform:m});}else if(p<k)m=l;}h.listen(window,'scroll',o);h.listen(window,'focus',o);h.listen(document.documentElement,{DOMMouseScroll:o,mousewheel:o,keydown:o,mouseover:o,mousemove:o,click:o});g.subscribe('Event/stop',function(p,q){o(q.event);});e.exports=n;});
__d("guid",[],function(a,b,c,d,e,f){function g(){return 'f'+(Math.random()*(1<<30)).toString(16).replace('.','');}e.exports=g;});
__d("queryThenMutateDOM",["function-extensions","Run","createArrayFrom","emptyFunction","requestAnimationFrame"],function(a,b,c,d,e,f){b('function-extensions');var g=b('Run'),h=b('createArrayFrom'),i=b('emptyFunction'),j=b('requestAnimationFrame'),k,l,m={},n=[],o=[];function p(s,t,u){if(!s&&!t)return;if(u&&m.hasOwnProperty(u)){return;}else if(u)m[u]=1;n.push(t||i);o.push(s||i);r();if(!k){k=true;g.onLeave(function(){k=false;l=false;m={};n.length=0;o.length=0;});}}p.prepare=function(s,t,u){return function(){var v=h(arguments);v.unshift(this);var w=Function.prototype.bind.apply(s,v),x=t.bind(this);p(w,x,u);};};function q(){m={};var s=o.length,t=n.length,u=[],v;while(s--){v=o.shift();u.push(v());}while(t--){v=n.shift();v(u.shift());}l=false;r();}function r(){if(!l&&(o.length||n.length)){l=true;j(q);}}e.exports=p;});
__d("PhotoLogger",["Event","ScubaSample","SpotlightViewerLoggingEvents","SubscriptionsHandler"],function(a,b,c,d,e,f){var g=b('Event'),h=b('ScubaSample'),i=b('SpotlightViewerLoggingEvents'),j=b('SubscriptionsHandler');function k(l){this.$PhotoLogger0=l;this.$PhotoLogger1={};}k.prototype.log=function(l){if(!this.$PhotoLogger1[l]){this.$PhotoLogger2(l);this.$PhotoLogger1[l]=true;}};k.prototype.$PhotoLogger2=function(l){this.$PhotoLogger3(i.LOADING,{uri:l});var m=new j(),n=new Image();m.addSubscriptions(g.listen(n,'load',function(){this.$PhotoLogger3(i.LOADED,{uri:l});m.release();}.bind(this)),g.listen(n,'error',function(){this.$PhotoLogger3(i.ERROR,{uri:l});m.release();}.bind(this)),g.listen(n,'abort',function(){this.$PhotoLogger3(i.ABORT,{uri:l});m.release();}.bind(this)));n.src=l;};k.prototype.logEvent=function(l){this.$PhotoLogger3(l);};k.prototype.$PhotoLogger3=function(l,m){var n=new h('photos_client_loading',null,{addBrowserFields:true});n.addNormal('event',l);n.addNormal('viewer',this.$PhotoLogger0);for(var o in m)n.addNormal(o,m[o]);n.flush();};e.exports=k;});
__d("ManagedError",[],function(a,b,c,d,e,f){function g(h,i){Error.prototype.constructor.call(this,h);this.message=h;this.innerError=i;}g.prototype=new Error();g.prototype.constructor=g;e.exports=g;});
__d("AssertionError",["ManagedError"],function(a,b,c,d,e,f){var g=b('ManagedError');function h(i){g.prototype.constructor.apply(this,arguments);}h.prototype=new g();h.prototype.constructor=h;e.exports=h;});
__d("Assert",["AssertionError","sprintf"],function(a,b,c,d,e,f){var g=b('AssertionError'),h=b('sprintf');function i(n,o){if(typeof n!=='boolean'||!n)throw new g(o);return n;}function j(n,o,p){var q;if(o===undefined){q='undefined';}else if(o===null){q='null';}else{var r=Object.prototype.toString.call(o);q=/\s(\w*)/.exec(r)[1].toLowerCase();}i(n.indexOf(q)!==-1,p||h('Expression is of type %s, not %s',q,n));return o;}function k(n,o,p){i(o instanceof n,p||'Expression not instance of type');return o;}function l(n,o){m['is'+n]=o;m['maybe'+n]=function(p,q){if(p!=null)o(p,q);};}var m={isInstanceOf:k,isTrue:i,isTruthy:function(n,o){return i(!!n,o);},type:j,define:function(n,o){n=n.substring(0,1).toUpperCase()+n.substring(1).toLowerCase();l(n,function(p,q){i(o(p),q);});}};['Array','Boolean','Date','Function','Null','Number','Object','Regexp','String','Undefined'].forEach(function(n){l(n,j.bind(null,n.toLowerCase()));});e.exports=m;});
__d("TabIsolation",["DOMQuery","Event","Focus","Keys","TabbableElements"],function(a,b,c,d,e,f){var g=b('DOMQuery'),h=b('Event'),i=b('Focus'),j=b('Keys'),k=b('TabbableElements'),l=[],m=0;function n(o){this._root=o;this._eventHandler=null;this._identifier=m++;}n.prototype.enable=function(){l.unshift(this._identifier);this._eventHandler=h.listen(window,'keydown',function(o){if(l[0]===this._identifier)this._tabHandler(o);}.bind(this),h.Priority.URGENT);};n.prototype.disable=function(){var o;if(this._eventHandler){o=l.indexOf(this._identifier);if(o>-1)l.splice(o,1);this._eventHandler.remove();this._eventHandler=null;}};n.prototype._tabHandler=function(o){if(h.getKeyCode(o)!==j.TAB)return;var p=o.getTarget();if(!p)return;var q=k.find(this._root),r=q[0],s=q[q.length-1],t=o.getModifiers().shift;if(t&&p===r){o.preventDefault();i.set(s);}else if((!t&&p===s)||!g.contains(this._root,p)){o.preventDefault();i.set(r);}};e.exports=n;});
__d("TinyViewport",["Arbiter","ArbiterMixin","CSS","DOM","Event","copyProperties","queryThenMutateDOM"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ArbiterMixin'),i=b('CSS'),j=b('DOM'),k=b('Event'),l=b('copyProperties'),m=b('queryThenMutateDOM'),n=document.documentElement,o,p,q=false,r={isTiny:function(){return o;}};l(r,h);var s=m.bind(null,function(){p=p||j.getDocumentScrollElement();o=n.clientHeight<400||n.clientWidth<p.scrollWidth;},function(){if(o!==q){i.conditionClass(n,'tinyViewport',o);i.conditionClass(n,'canHaveFixedElements',!o);r.inform('change',o);q=o;}},'TinyViewport');s();g.subscribe('quickling/response',s);k.listen(window,'resize',s);e.exports=r;});
__d("LayerAutoFocus",["function-extensions","DOMQuery","Focus","TabbableElements","copyProperties"],function(a,b,c,d,e,f){b('function-extensions');var g=b('DOMQuery'),h=b('Focus'),i=b('TabbableElements'),j=b('copyProperties');function k(l){this._layer=l;}k.prototype.enable=function(){this._subscription=this._layer.subscribe('aftershow',this._focus.bind(this));};k.prototype.disable=function(){this._subscription.unsubscribe();this._subscription=null;};k.prototype._focus=function(){var l=this._layer.getRoot(),m=g.scry(l,'.autofocus')[0],n=true;if(!m){var o=document.activeElement;if(g.isNodeOfType(o,['input','textarea']))return;var p=i.find(l);for(var q=0;q<p.length;q++)if(p[q].tagName!='A'){m=p[q];n=false;break;}}else if(m.tabIndex!==0)n=false;if(m){n?h.set(m):h.setWithoutOutline(m);}else{l.tabIndex=0;h.setWithoutOutline(l);}};j(k.prototype,{_subscription:null});e.exports=k;});
__d("LayerButtons",["Event","Parent","copyProperties"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Parent'),i=b('copyProperties');function j(k){this._layer=k;}j.prototype.enable=function(){this._listener=g.listen(this._layer.getRoot(),'click',this._handle.bind(this));};j.prototype.disable=function(){this._listener.remove();this._listener=null;};j.prototype._handle=function(k){var l=k.getTarget(),m=h.byClass(l,'layerConfirm');if(m){if(this._layer.inform('confirm',m)===false)k.prevent();return;}var n=h.byClass(l,'layerCancel');if(n){if(this._layer.inform('cancel',n)!==false)this._layer.hide();k.prevent();return;}var o=h.byClass(l,'layerButton');if(o)if(this._layer.inform('button',o)===false)k.prevent();};i(j.prototype,{_listener:null});e.exports=j;});
__d("LayerFadeOnShow",["Animation","Style","UserAgent","copyProperties"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('Style'),i=b('UserAgent'),j=b('copyProperties');function k(l){this._layer=l;}k.prototype.enable=function(){if(i.ie()<9)return;this._subscriptions=[this._layer.subscribe('beforeshow',function(){h.set(this._layer.getRoot(),'opacity',0);}.bind(this)),this._layer.subscribe('show',this._animate.bind(this))];};k.prototype.disable=function(){if(this._subscriptions){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=null;}};k.prototype._getDuration=function(){return 100;};k.prototype._animate=function(){var l=this._layer.getRoot();new g(l).from('opacity',0).to('opacity',1).duration(this._getDuration()).ondone(h.set.curry(l,'opacity','')).go();};j(k.prototype,{_subscriptions:null});e.exports=k;});
__d("LayerFormHooks",["Event","copyProperties"],function(a,b,c,d,e,f){var g=b('Event'),h=b('copyProperties');function i(j){this._layer=j;}i.prototype.enable=function(){var j=this._layer.getRoot();this._subscriptions=[g.listen(j,'submit',this._onSubmit.bind(this)),g.listen(j,'success',this._onSuccess.bind(this)),g.listen(j,'error',this._onError.bind(this))];};i.prototype.disable=function(){this._subscriptions.forEach(function(j){j.remove();});this._subscriptions=null;};i.prototype._onSubmit=function(event){if(this._layer.inform('submit',event)===false)event.kill();};i.prototype._onSuccess=function(event){if(this._layer.inform('success',event)===false)event.kill();};i.prototype._onError=function(event){var j=event.getData();if(this._layer.inform('error',{response:j.response})===false)event.kill();};h(i.prototype,{_subscriptions:null});e.exports=i;});
__d("LayerRefocusOnHide",["ContextualThing","DOM","DOMQuery","Focus","Parent","copyProperties"],function(a,b,c,d,e,f){var g=b('ContextualThing'),h=b('DOM'),i=b('DOMQuery'),j=b('Focus'),k=b('Parent'),l=b('copyProperties');function m(n){this._layer=n;}m.prototype.enable=function(){this._subscription=this._layer.subscribe('hide',this._handle.bind(this));};m.prototype.disable=function(){this._subscription.unsubscribe();this._subscription=null;};m.prototype._handle=function(n,event){if(document.activeElement===document.body||i.contains(this._layer.getRoot(),document.activeElement)){var o=this._layer.getCausalElement();while(o&&(!o.offsetWidth)){var p=k.byClass(o,'uiToggle');if(p&&p.offsetWidth){o=h.scry(p,'[rel="toggle"]')[0];}else{var q=g.getContext(o);if(q){o=q;}else o=o.parentNode;}}if(o)if(o.tabIndex!=-1)j.setWithoutOutline(o);}};l(m.prototype,{_subscription:null});e.exports=m;});
__d("LayerTabIsolation",["TabIsolation","copyProperties"],function(a,b,c,d,e,f){var g=b('TabIsolation'),h=b('copyProperties');function i(j){this._layer=j;this._tabIsolation=null;}i.prototype.enable=function(){this._tabIsolation=new g(this._layer.getRoot());this._subscriptions=[this._layer.subscribe('show',this._tabIsolation.enable.bind(this._tabIsolation)),this._layer.subscribe('hide',this._tabIsolation.disable.bind(this._tabIsolation))];};i.prototype.disable=function(){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._tabIsolation.disable();this._tabIsolation=null;};h(i.prototype,{_subscriptions:[]});e.exports=i;});
__d("ModalLayer",["function-extensions","Arbiter","CSS","DataStore","DOM","DOMDimensions","DOMQuery","Event","ScrollAwareDOM","Style","URI","UserAgent","Vector","copyProperties","csx","cx","debounceAcrossTransitions","isAsyncScrollQuery","removeFromArray"],function(a,b,c,d,e,f){b('function-extensions');var g=b('Arbiter'),h=b('CSS'),i=b('DataStore'),j=b('DOM'),k=b('DOMDimensions'),l=b('DOMQuery'),m=b('Event'),n=b('ScrollAwareDOM'),o=b('Style'),p=b('URI'),q=b('UserAgent'),r=b('Vector'),s=b('copyProperties'),t=b('csx'),u=b('cx'),v=b('debounceAcrossTransitions'),w=b('isAsyncScrollQuery'),x=b('removeFromArray'),y=[],z=null,aa=null,ba=null;function ca(){if(!ba)ba=l.scry(document.body,"._li")[0];return ba;}function da(la){var ma={position:r.getScrollPosition()},na=la.offsetTop-ma.position.y;h.addClass(la,"_31e");o.set(la,'top',na+'px');g.inform('reflow');ma.listener=n.subscribe('scroll',function(oa,pa){if(l.contains(la,pa.target)){var qa=la.offsetTop-pa.delta.y;o.set(la,'top',qa+'px');ma.position=ma.position.add(pa.delta);return false;}});i.set(la,'ModalLayerData',ma);if(q.firefox()<13)ea.curry(la).defer();}function ea(la){l.scry(la,'div.swfObject').forEach(function(ma){var na=ma.getAttribute('data-swfid');if(na&&window[na]){var oa=window[na];oa.addParam('autostart','false');oa.addParam('autoplay','false');oa.addParam('play','false');oa.addVariable('video_autoplay','0');oa.addVariable('autoplay','0');oa.addVariable('play','0');var pa=p(oa.getAttribute('swf'));pa.addQueryData({autoplay:'0'});pa.setPath(pa.getPath().replace('autoplay=1','autoplay=0'));oa.setAttribute('swf',pa.toString());oa.write(ma);}});}function fa(la,ma){var na=i.get(la,'ModalLayerData');if(na){var oa=function(){h.removeClass(la,"_31e");o.set(la,'top','');if(ma){var ra=l.getDocumentScrollElement();ra.scrollTop=na.position.y;}g.inform('reflow');na.listener.unsubscribe();na.listener=null;i.remove(la,'ModalLayerData');};if(ma&&w()){var pa=j.create('div',{className:"_42w"});o.set(pa,'height',la.offsetHeight+'px');j.appendContent(document.body,pa);var qa=l.getDocumentScrollElement();qa.scrollTop=na.position.y;ma=false;!function(){oa();j.remove(pa);}.defer();}else oa();}if(q.ie()<7)o.set(la,'height','');}function ga(){var la=ca();if(!h.hasClass(la,"_31e"))da(la);}function ha(){if(!y.length)fa(ca(),true);}function ia(){var la;if(q.ie()<7){var ma=y[y.length-1].getLayerRoot(),na=Math.max(ma.offsetHeight,ma.scrollHeight);la=function(ta){o.set(ta,'height',(-ta.offsetTop+na)+'px');};}var oa=y.length;while(oa--){var pa=y[oa],qa=pa.getLayerRoot();ja(qa,'');var ra=pa.getLayerContentRoot(),sa=ra.offsetWidth+k.measureElementBox(ra,'width',0,0,1);ja(qa,sa);if(la&&oa<y.length-1)la(qa);}la&&la(ca());}function ja(la,ma){var na=q.ie()<7;if(na&&ma&&ma<=document.body.clientWidth)ma='';o.set(la,na?'width':'min-width',ma+(ma?'px':''));}function ka(la){this._layer=la;}ka.prototype.enable=function(){if(!ca())return;this._subscription=this._layer.subscribe(['show','hide'],function(la){la=='show'?this._addModal():this._removeModal();}.bind(this));if(this._layer.isShown())this._addModal();};ka.prototype.disable=function(){if(!ca())return;this._subscription.unsubscribe();this._subscription=null;if(this._layer.isShown())this._removeModal();};ka.prototype._addModal=function(){h.addClass(this.getLayerRoot(),"_3qw");var la=y[y.length-1];if(la){da(la.getLayerRoot());}else ga();var ma=l.getDocumentScrollElement();ma.scrollTop=0;if(!y.length){if(q.ie()<7)h.addClass(document.documentElement,"_31d");var na=v(ia,100);z=m.listen(window,'resize',na);aa=g.subscribe('reflow',na);}y.push(this);ia.defer();};ka.prototype._removeModal=function(){var la=this.getLayerRoot();h.removeClass(la,"_3qw");ja(la,'');var ma=this===y[y.length-1];x(y,this);var na=y[y.length-1];if(!na){z.remove();z=null;aa.unsubscribe();aa=null;}!function(){if(na){fa(na.getLayerRoot(),ma);}else ha();if(y.length){ia.defer();}else if(q.ie()<7)h.removeClass(document.documentElement,"_31d");}.defer(400,false);};ka.prototype.getLayerRoot=function(){return this._layer.getRoot();};ka.prototype.getLayerContentRoot=function(){return this._layer.getContentRoot();};s(ka.prototype,{_subscription:null});e.exports=ka;});
__d("DialogPosition",["Vector"],function(a,b,c,d,e,f){var g=b('Vector'),h=40,i,j={calculateTopMargin:function(k,l){if(i)return i;var m=g.getViewportDimensions(),n=Math.floor((m.x+k)*(m.y-l)/(4*m.x));return Math.max(n,h);},setFixedTopMargin:function(k){i=k;}};e.exports=j;});
__d("DialogX",["function-extensions","Arbiter","CSS","DialogPosition","Event","goURI","JSXDOM","Layer","LayerAutoFocus","LayerButtons","LayerFormHooks","LayerRefocusOnHide","LayerTabIsolation","ModalLayer","Style","Vector","copyProperties","cx","debounce","shield"],function(a,b,c,d,e,f){b('function-extensions');var g=b('Arbiter'),h=b('CSS'),i=b('DialogPosition'),j=b('Event'),k=b('goURI'),l=b('JSXDOM'),m=b('Layer'),n=b('LayerAutoFocus'),o=b('LayerButtons'),p=b('LayerFormHooks'),q=b('LayerRefocusOnHide'),r=b('LayerTabIsolation'),s=b('ModalLayer'),t=b('Style'),u=b('Vector'),v=b('copyProperties'),w=b('cx'),x=b('debounce'),y=b('shield');for(var z in m)if(m.hasOwnProperty(z))ba[z]=m[z];var aa=m===null?null:m.prototype;ba.prototype=Object.create(aa);ba.prototype.constructor=ba;ba.__superConstructor__=m;function ba(){if(m!==null)m.apply(this,arguments);}ba.prototype._configure=function(da,ea){aa._configure.call(this,da,ea);h.addClass(this.getRoot(),"_4-hy");if(da.autohide)var fa=this.subscribe('show',function(){fa.unsubscribe();y(this.hide,this).defer(da.autohide);}.bind(this));if(da.redirectURI)var ga=this.subscribe('hide',function(){ga.unsubscribe();k(da.redirectURI);});};ba.prototype._getDefaultBehaviors=function(){return aa._getDefaultBehaviors.call(this).concat([ca,s,n,o,p,r,q]);};ba.prototype._buildWrapper=function(da,ea){var fa=da.xui?"_4-hz":"_t",ga=da.xui?"_59s7":"_1yv";this._innerContent=l.div(null,ea);this._wrapper=l.div({className:ga,role:"dialog",'aria-labelledby':da.titleID||null},l.div({className:fa},this._innerContent));this.setWidth(da.width);return (l.div({className:"_10",role:"dialog"},this._wrapper));};ba.prototype.getContentRoot=function(){return this._wrapper;};ba.prototype.getInnerContent=function(){return this._innerContent;};ba.prototype.updatePosition=function(){var da=u.getElementDimensions(this._wrapper),ea=i.calculateTopMargin(da.x,da.y);t.set(this._wrapper,'margin-top',ea+'px');this.inform('update_position',{type:'DialogX',top:ea});};ba.prototype.setWidth=function(da){da=Math.floor(da);if(da===this._width)return;this._width=da;t.set(this._wrapper,'width',da+'px');};ba.prototype.getWidth=function(){return this._width;};function ca(da){this._layer=da;}ca.prototype.enable=function(){this._subscription=this._layer.subscribe(['show','hide'],function(da){if(da==='show'){this._attach();g.inform('layer_shown',{type:'DialogX'});}else{this._detach();g.inform('layer_hidden',{type:'DialogX'});}}.bind(this));};ca.prototype.disable=function(){this._subscription.unsubscribe();this._subscription=null;this._resize&&this._detach();};ca.prototype._attach=function(){this._layer.updatePosition();this._resize=j.listen(window,'resize',x(this._layer.updatePosition.bind(this._layer)));};ca.prototype._detach=function(){this._resize.remove();this._resize=null;};v(ca.prototype,{_subscription:null,_resize:null});e.exports=ba;});
__d("LoadingDialogDimensions",[],function(a,b,c,d,e,f){var g={HEIGHT:96,WIDTH:300};e.exports=g;});
__d("AsyncDialog",["AsyncRequest","Bootloader","CSS","DialogX","DOM","Env","Keys","LayerFadeOnShow","Parent","React","URI","XUISpinner.react","copyProperties","cx","eachKeyVal","emptyFunction","LoadingDialogDimensions"],function(a,b,c,d,e,f){var g=b('AsyncRequest'),h=b('Bootloader'),i=b('CSS'),j=b('DialogX'),k=b('DOM'),l=b('Env'),m=b('Keys'),n=b('LayerFadeOnShow'),o=b('Parent'),p=b('React'),q=b('URI'),r=b('XUISpinner.react'),s=b('copyProperties'),t=b('cx'),u=b('eachKeyVal'),v=b('emptyFunction'),w=b('LoadingDialogDimensions').WIDTH,x;function y(){if(!x){var ga=k.create('div',{className:"_57-x"});x=new j({width:w,addedBehaviors:[n],xui:true},k.create('div',null,ga));p.renderComponent(r({size:"large"}),ga);x.subscribe(['key','blur'],function(ha,ia){if(ha=='blur'||(ha=='key'&&ia.keyCode==m.ESC)){ca();return false;}});}return x;}var z={},aa=1,ba=[];function ca(){u(z,function(ga,ha){ha.abandon();da(ga);});}function da(ga){delete z[ga];if(!Object.keys(z).length)y().hide();}function ea(ga,ha){var ia=aa++;ba[ia]=ha;z[ia]=ga;var ja=da.curry(''+ia);s(ga.getData(),{__asyncDialog:ia});y().setCausalElement(ga.getRelativeTo()).show();var ka=ga.finallyHandler;ga.setFinallyHandler(function(la){var ma=la.getPayload();if(ma&&ma.asyncURL)fa.send(new g(ma.asyncURL));ja();ka&&ka(la);});ga.setInterceptHandler(ja).setAbortHandler(ja);ga.send();}var fa={send:function(ga,ha){ea(ga,ha||v);},bootstrap:function(ga,ha,ia){if(!ga)return;var ja=o.byClass(ha,'stat_elem')||ha;if(ja&&i.hasClass(ja,'async_saving'))return false;var ka=new q(ga).getQueryData(),la=ia==='dialog',ma=new g().setURI(ga).setData(ka).setMethod(la?'GET':'POST').setReadOnly(la).setRelativeTo(ha).setStatusElement(ja).setNectarModuleDataSafe(ha);if(l.is_desktop){h.loadModules(['FbdDialogProvider'],function(na){na.sendDialog(ma,fa.send);});return;}fa.send(ma);},respond:function(ga,ha){var ia=ba[ga];if(ia){ia(ha);delete ba[ga];}},getLoadingDialog:function(){return y();}};e.exports=fa;});
__d("Spotlight",["Arbiter","ArbiterMixin","DOM","JSXDOM","Layer","LayerAutoFocus","LayerTabIsolation","ModalLayer","Vector","classWithMixins","copyProperties","csx","cx","mixin"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ArbiterMixin'),i=b('DOM'),j=b('JSXDOM'),k=b('Layer'),l=b('LayerAutoFocus'),m=b('LayerTabIsolation'),n=b('ModalLayer'),o=b('Vector'),p=b('classWithMixins'),q=b('copyProperties'),r=b('csx'),s=b('cx'),t=b('mixin'),u=p(k,t(h));for(var v in u)if(u.hasOwnProperty(v))x[v]=u[v];var w=u===null?null:u.prototype;x.prototype=Object.create(w);x.prototype.constructor=x;x.__superConstructor__=u;function x(z,aa){u.call(this,z,aa);this.stageMinSize=new o(0,0);this.stagePadding=new o(0,0);}x.prototype._buildWrapper=function(z,aa){return (j.div({className:"_n8 _3qx"},j.div({className:"_n9"},aa)));};x.prototype._getDefaultBehaviors=function(){return w._getDefaultBehaviors.call(this).concat([y,l,m,n]);};x.prototype.getContentRoot=function(){if(!this._content)this._content=i.find(this.getRoot(),"div._n3");return this._content;};x.prototype.configure=function(z){if(z.stageMinSize)this.stageMinSize=z.stageMinSize;if(z.stagePadding)this.stagePadding=z.stagePadding;};x.prototype.onContentLoaded=function(){this.inform('content-load');};x.prototype.updatePermalink=function(z){this.inform('permalinkchange',z);};q(x.prototype,{stageMinSize:null,stagePadding:null});function y(z){this._layer=z;}y.prototype.enable=function(){this._subscription=this._layer.subscribe(['show','hide'],function(z,aa){if(z==='show'){g.inform('layer_shown',{type:'Spotlight'});}else g.inform('layer_hidden',{type:'Spotlight'});});};y.prototype.disable=function(){this._subscription.unsubscribe();this._subscription=null;};q(y.prototype,{_subscription:null});e.exports=x;});
__d("ScrollableArea",["Animation","ArbiterMixin","BrowserSupport","CSS","DataStore","DOM","Event","Parent","Run","SimpleDrag","Style","UserAgent","Vector","throttle","mixin"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('ArbiterMixin'),i=b('BrowserSupport'),j=b('CSS'),k=b('DataStore'),l=b('DOM'),m=b('Event'),n=b('Parent'),o=b('Run'),p=b('SimpleDrag'),q=b('Style'),r=b('UserAgent'),s=b('Vector'),t=b('throttle'),u=12,v=b("mixin"),w=v(h);for(var x in w)if(w.hasOwnProperty(x))z[x]=w[x];var y=w===null?null:w.prototype;z.prototype=Object.create(y);z.prototype.constructor=z;z.__superConstructor__=w;function z(aa,ba){if(!aa)return;ba=ba||{};this._elem=aa;this._wrap=l.find(aa,'div.uiScrollableAreaWrap');this._body=l.find(this._wrap,'div.uiScrollableAreaBody');this._content=l.find(this._body,'div.uiScrollableAreaContent');this._track=l.find(aa,'div.uiScrollableAreaTrack');this._gripper=l.find(this._track,'div.uiScrollableAreaGripper');this._options=ba;this._throttledComputeHeights=t.withBlocking(this._computeHeights,250,this);this.throttledAdjustGripper=t.withBlocking(this.adjustGripper,250,this);this._throttledShowGripperAndShadows=t.withBlocking(this._showGripperAndShadows,250,this);this._throttledRespondMouseMove=t(this._respondMouseMove,250,this);this.adjustGripper.bind(this).defer();this._listeners=[m.listen(this._wrap,'scroll',this._handleScroll.bind(this)),m.listen(aa,'mousemove',this._handleMouseMove.bind(this)),m.listen(this._track,'click',this._handleClickOnTrack.bind(this))];if(i.hasPointerEvents())this._listeners.push(m.listen(aa,'click',this._handleClickOnTrack.bind(this)));if(ba.fade!==false){this._listeners.push(m.listen(aa,'mouseenter',this._handleMouseEnter.bind(this)),m.listen(aa,'mouseleave',this._handleMouseLeave.bind(this)),m.listen(aa,'focusin',this.showScrollbar.bind(this,false)),m.listen(aa,'focusout',this.hideScrollbar.bind(this)));}else if(i.hasPointerEvents())this._listeners.push(m.listen(aa,'mouseleave',j.removeClass.curry(aa,'uiScrollableAreaTrackOver')));if(r.webkit()||r.chrome()){this._listeners.push(m.listen(aa,'mousedown',function(){var ca=m.listen(window,'mouseup',function(){if(aa.scrollLeft)aa.scrollLeft=0;ca.remove();});}));}else if(r.firefox())this._wrap.addEventListener('DOMMouseScroll',function(event){event.axis===event.HORIZONTAL_AXIS&&event.preventDefault();},false);this.initDrag();k.set(this._elem,'ScrollableArea',this);if(!ba.persistent)o.onLeave(this.destroy.bind(this));if(ba.shadow!==false)j.addClass(this._elem,'uiScrollableAreaWithShadow');}z.prototype.initDrag=function(){var aa=i.hasPointerEvents(),ba=new p(aa?this._elem:this._gripper);ba.subscribe('start',function(ca,event){if(!((event.which&&event.which===1)||(event.button&&event.button===1)))return;var da=s.getEventPosition(event,'viewport');if(aa){var ea=this._gripper.getBoundingClientRect();if(da.x<ea.left||da.x>ea.right||da.y<ea.top||da.y>ea.bottom)return false;}this.inform('grip_start');var fa=da.y,ga=this._gripper.offsetTop;j.addClass(this._elem,'uiScrollableAreaDragging');var ha=ba.subscribe('update',function(ja,event){var ka=s.getEventPosition(event,'viewport').y-fa;this._throttledComputeHeights();var la=this._contentHeight-this._containerHeight,ma=ga+ka,na=this._trackHeight-this._gripperHeight;ma=Math.max(Math.min(ma,na),0);var oa=ma/na*la;this._wrap.scrollTop=oa;}.bind(this)),ia=ba.subscribe('end',function(){ba.unsubscribe(ha);ba.unsubscribe(ia);j.removeClass(this._elem,'uiScrollableAreaDragging');this.inform('grip_end');}.bind(this));}.bind(this));};z.prototype.adjustGripper=function(){if(this._needsGripper()){q.set(this._gripper,'height',this._gripperHeight+'px');this._slideGripper();}this._throttledShowGripperAndShadows();return this;};z.prototype._computeHeights=function(){this._containerHeight=this._elem.clientHeight;this._contentHeight=this._content.offsetHeight;this._trackHeight=this._track.offsetHeight;this._gripperHeight=Math.max(this._containerHeight/this._contentHeight*this._trackHeight,u);};z.prototype._needsGripper=function(){this._throttledComputeHeights();return this._gripperHeight<this._trackHeight;};z.prototype._slideGripper=function(){var aa=this._wrap.scrollTop/(this._contentHeight-this._containerHeight)*(this._trackHeight-this._gripperHeight);q.set(this._gripper,'top',aa+'px');};z.prototype._showGripperAndShadows=function(){j.conditionShow(this._gripper,this._needsGripper());j.conditionClass(this._elem,'contentBefore',this._wrap.scrollTop>0);j.conditionClass(this._elem,'contentAfter',!this.isScrolledToBottom());};z.prototype.destroy=function(){this._listeners.forEach(function(aa){aa.remove();});this._listeners.length=0;};z.prototype._handleClickOnTrack=function(event){var aa=s.getEventPosition(event,'viewport'),ba=this._gripper.getBoundingClientRect();if(aa.x<ba.right&&aa.x>ba.left){if(aa.y<ba.top){this.setScrollTop(this.getScrollTop()-this._elem.clientHeight);}else if(aa.y>ba.bottom)this.setScrollTop(this.getScrollTop()+this._elem.clientHeight);event.prevent();}};z.prototype._handleMouseMove=function(event){var aa=this._options.fade!==false;if(i.hasPointerEvents()||aa){this._mousePos=s.getEventPosition(event);this._throttledRespondMouseMove();}};z.prototype._respondMouseMove=function(){if(!this._mouseOver)return;var aa=this._options.fade!==false,ba=this._mousePos,ca=s.getElementPosition(this._track).x,da=s.getElementDimensions(this._track).x,ea=Math.abs(ca+da/2-ba.x);j.conditionClass(this._elem,'uiScrollableAreaTrackOver',i.hasPointerEvents()&&ea<=10);if(aa)if(ea<25){this.showScrollbar(false);}else if(!this._options.no_fade_on_hover)this.hideScrollbar();};z.prototype._handleScroll=function(event){if(this._needsGripper())this._slideGripper();this.throttledAdjustGripper();if(this._options.fade!==false)this.showScrollbar();this.inform('scroll');};z.prototype._handleMouseLeave=function(){this._mouseOver=false;this.hideScrollbar();};z.prototype._handleMouseEnter=function(){this._mouseOver=true;this.showScrollbar();};z.prototype.hideScrollbar=function(aa){if(!this._scrollbarVisible)return this;this._scrollbarVisible=false;if(this._hideTimeout){clearTimeout(this._hideTimeout);this._hideTimeout=null;}if(aa){q.set(this._track,'opacity',0);j.addClass.curry(this._track,'invisible_elem');}else this._hideTimeout=function(){if(this._hideAnimation){this._hideAnimation.stop();this._hideAnimation=null;}this._hideAnimation=(new g(this._track)).from('opacity',1).to('opacity',0).duration(250).ondone(j.addClass.curry(this._track,'invisible_elem')).go();}.bind(this).defer(750);return this;};z.prototype.resize=function(){if(this._body.style.width)this._body.style.width='';var aa=this._wrap.offsetWidth-this._wrap.clientWidth;if(aa>0)q.set(this._body,'margin-right',(-aa)+'px');return this;};z.prototype.showScrollbar=function(aa){this.throttledAdjustGripper();if(this._scrollbarVisible)return this;this._scrollbarVisible=true;if(this._hideTimeout){clearTimeout(this._hideTimeout);this._hideTimeout=null;}if(this._hideAnimation){this._hideAnimation.stop();this._hideAnimation=null;}q.set(this._track,'opacity',1);j.removeClass(this._track,'invisible_elem');if((aa!==false)&&!this._options.no_fade_on_hover)this.hideScrollbar();return this;};z.prototype.isScrolledToBottom=function(){return this._wrap.scrollTop>=this._contentHeight-this._containerHeight;};z.prototype.isScrolledToTop=function(){return this._wrap.scrollTop===0;};z.prototype.scrollToBottom=function(aa){this.setScrollTop(this._wrap.scrollHeight,aa);};z.prototype.scrollToTop=function(aa){this.setScrollTop(0,aa);};z.prototype.scrollIntoView=function(aa,ba){var ca=this._wrap.clientHeight,da=aa.offsetHeight,ea=this._wrap.scrollTop,fa=ea+ca,ga=aa.offsetTop,ha=ga+da;if(ga<ea||ca<da){this.setScrollTop(ga,ba);}else if(ha>fa)this.setScrollTop(ea+(ha-fa),ba);};z.prototype.scrollElemToTop=function(aa,ba,ca){this.setScrollTop(aa.offsetTop,ba,{callback:ca});};z.prototype.poke=function(){var aa=this._wrap.scrollTop;this._wrap.scrollTop+=1;this._wrap.scrollTop-=1;this._wrap.scrollTop=aa;return this.showScrollbar(false);};z.prototype.getScrollTop=function(){return this._wrap.scrollTop;};z.prototype.getScrollHeight=function(){return this._wrap.scrollHeight;};z.prototype.setScrollTop=function(aa,ba,ca){ca=ca||{};if(ba!==false){if(this._scrollTopAnimation)this._scrollTopAnimation.stop();var da=ca.duration||250,ea=ca.ease||g.ease.end;this._scrollTopAnimation=(new g(this._wrap)).to('scrollTop',aa).ease(ea).duration(da).ondone(ca.callback).go();}else{this._wrap.scrollTop=aa;ca.callback&&ca.callback();}};z.renderDOM=function(){var aa=l.create('div',{className:'uiScrollableAreaContent'}),ba=l.create('div',{className:'uiScrollableAreaBody'},aa),ca=l.create('div',{className:'uiScrollableAreaWrap scrollable'},ba),da=l.create('div',{className:'uiScrollableArea native'},ca);return {root:da,wrap:ca,body:ba,content:aa};};z.fromNative=function(aa,ba){if(!j.hasClass(aa,'uiScrollableArea')||!j.hasClass(aa,'native')||r.ie()<=7)return;ba=ba||{};j.removeClass(aa,'native');var ca=l.create('div',{className:'uiScrollableAreaTrack'},l.create('div',{className:'uiScrollableAreaGripper'}));if(ba.fade!==false){j.addClass(aa,'fade');j.addClass(ca,'invisible_elem');}else j.addClass(aa,'nofade');l.appendContent(aa,ca);var da=new z(aa,ba);da.resize();return da;};z.getInstance=function(aa){var ba=n.byClass(aa,'uiScrollableArea');return ba?k.get(ba,'ScrollableArea'):null;};z.poke=function(aa){var ba=z.getInstance(aa);ba&&ba.poke();};e.exports=z;});
__d("legacy:Tooltip",["Tooltip"],function(a,b,c,d){a.Tooltip=b('Tooltip');},3);