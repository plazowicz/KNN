/*!CK:2637012608!*//*1380443986,178171233*/

if (self.CavalryLogger) { CavalryLogger.start_js(["t6aEr"]); }

__d("AdblockDetector",["CSS"],function(a,b,c,d,e,f){var g=b('CSS'),h='data-adblock-hash',i={},j=0;function k(l,m){var n=l.getAttribute(h);if(!n){n=++j;l.setAttribute(h,n);}else if(i[n]){clearTimeout(i[n]);i[n]=null;}i[n]=setTimeout(function(){i[n]=null;if(!l.offsetHeight){var o=l,p=document.getElementsByTagName('body')[0];while(o&&o!==p){if(!o.style||g.hasClass(o,'hidden_elem')||o.style.display==='none'||o.style.height==='0px'||o.style.height===0||o.style.height==='0'||o.childNodes.length===0)return;o=o.parentNode;}if(o===p)m&&m(l);}},3000);}f.assertUnblocked=k;});
__d("AdblockDetectorLogging",["AdblockDetector","EagleEye"],function(a,b,c,d,e,f){var g=b('AdblockDetector'),h=b('EagleEye');function i(j){g.assertUnblocked(j,h.log.bind(h,'ads',{event:'ads_blocked'}));}f.assertUnblocked=i;});
__d("EmuController",["AsyncRequest","DataStore","URI","copyProperties","emptyFunction","ge","goURI"],function(a,b,c,d,e,f){var g=b('AsyncRequest'),h=b('DataStore'),i=b('URI'),j=b('copyProperties'),k=b('emptyFunction'),l=b('ge'),m=b('goURI');function n(o,p){var q=l(o);if(!q)return null;this.impression=p;this.containerId=o;h.set(q,'emuController',this);return this;}n.prototype.event=function(o,p,q,r){var s={eid:this.impression,f:0,ui:this.containerId,en:o,a:1};if(p)s.ed=JSON.stringify(p);if(!r)r=k;var t=new g().setURI(this.EVENT_HANDLER_PATH).setData(s).setErrorHandler(r);if(q)t.setHandler(q);t.send();};n.prototype.redirect=function(){var o={eid:this.impression,f:0,ui:this.containerId,en:this.CLICK,a:0,sig:Math.floor(Math.random()*65535)+65536},p=new i(this.EVENT_HANDLER_PATH);p.setQueryData(o);m(p);};n.fromContainer=function(o){var p=l(o);if(!p)return null;return h.get(p,'emuController');};n.getEventClass=function(o){return "emuEvent"+String(o).trim();};j(n.prototype,{EVENT_HANDLER_PATH:'/ajax/emu/end.php',CLICK:1,FAN:"fad_fan"});e.exports=n;});
__d("legacy:ad-units-base-js",["EmuController"],function(a,b,c,d){a.EmuController=b('EmuController');},3);
__d("FeedBlacklistButton",["Arbiter","Event"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('Event'),i={BLACKLIST:'feed_blacklist',UNBLACKLIST:'feed_unblacklist',init:function(j,k,l,m){h.listen(k,'click',function(){var n={profile_id:m};g.inform(i.BLACKLIST,n);g.inform('UnfollowingUser',n);});h.listen(l,'click',function(){var n={profile_id:m};g.inform(i.UNBLACKLIST,n);g.inform('FollowingUser',n);});g.subscribe(i.BLACKLIST,function(n,o){if(m==o.profile_id)j.swap();});g.subscribe(i.UNBLACKLIST,function(n,o){if(m==o.profile_id)j.unswap();});}};e.exports=a.FeedBlacklistButton||i;});
__d("SubscribeSwapButton",["Button","cx","DOM","Event","Parent","Style"],function(a,b,c,d,e,f){var g=b('Button'),h=b('cx'),i=b('DOM'),j=b('Event'),k=b('Parent'),l=b('Style'),m={},n={},o=0,p,q;function r(u,v){g.setLabel(u,v);g.setIcon(u,n[i.getID(u)]);t.updateWidth(u);q=null;}function s(u,v,w,x){g.setLabel(u,v);g.setIcon(u,w);t.updateWidth(u);q=u;p&&p.remove();p=j.listen(u,'mouseleave',function(){r(u,x);});}var t={setSuppressNextMouseEnter:function(u,v){m[u]=v;},updateWidth:function(u){var v=l.get(u,'width');if(parseFloat(v)>=parseFloat(o)){o=v;}else l.set(u,'min-width',o);},setFollowingIcon:function(u){g.setIcon(u,n[i.getID(u)]);},init:function(u,v,w,x,y,z,aa){var ba=i.getID(u);m[ba]=aa;n[ba]=x;this.updateWidth(u);j.listen(document.documentElement,{mouseenter:function(ca){var da=k.byClass(ca.getTarget(),"_5lzj");if(da!=q&&q)r(q,v);}});j.listen(u,'mouseenter',function(){if(m[ba]||u==q){m[ba]=false;return;}s(u,w,y,v,x);});}};e.exports=t;});
__d("XPubcontentChainedSuggestionsControllerURIBuilder",["XControllerURIBuilder","copyProperties"],function(a,b,c,d,e,f){var g=b('XControllerURIBuilder'),h=b('copyProperties'),i={path:"\/pubcontent\/chained_suggestions\/",paramDefinitions:{profileid:{type:"Int"},eh:{type:"Bool"},pageid:{type:"Int"}}};function j(){g.call(this,i.path,i.paramDefinitions);return this;}h(j.prototype,g.prototype);e.exports=j;});
__d("SubscribeButton",["Arbiter","AsyncRequest","Button","DOM","Event","SubscribeSwapButton","Tooltip","XPubcontentChainedSuggestionsControllerURIBuilder"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('AsyncRequest'),i=b('Button'),j=b('DOM'),k=b('Event'),l=b('SubscribeSwapButton'),m=b('Tooltip'),n=b('XPubcontentChainedSuggestionsControllerURIBuilder'),o={SUBSCRIBED:'FollowingUser',UNSUBSCRIBED:'UnfollowingUser',_enable:function(p){i.setEnabled(p,true);m.remove(p);},_disable:function(p,q){i.setEnabled(p,false);if(q)m.set(p,q);},init:function(p,q,r,s,t,u,v,w){v=(typeof v!=='undefined')?v:false;var x=(typeof w!=='undefined');if(x)l.updateWidth(r);k.listen(q,'click',function(){if(x)l.setSuppressNextMouseEnter(j.getID(r),true);g.inform(o.SUBSCRIBED,{profile_id:s,suppress:true});});g.subscribe(o.SUBSCRIBED,function(y,z){if(s==z.profile_id){if(x){l.setFollowingIcon(r);if(!z.suppress)l.setSuppressNextMouseEnter(s,false);}if(!t)r.suppressNextMouseEnter&&r.suppressNextMouseEnter();if(x)o._enable(q);p.swap();if(x)l.updateWidth(r);if(u===true){var aa=(new n()).setBool('eh',true).setInt('profileid',s).getURI();new h().setURI(aa).send();}}});g.subscribe(o.UNSUBSCRIBED,function(y,z){if(s==z.profile_id){p.unswap();if(x)l.updateWidth(r);r.hideFlyout&&r.hideFlyout();if(x&&z.check_enabled_follow&&!v)o._disable(q,w);g.inform('SubMenu/Reset');}});},initUnsubscribe:function(p,q){k.listen(p,'click',function(){g.inform.bind(g,o.UNSUBSCRIBED,{profile_id:q}).defer();});}};e.exports=o;});
__d("legacy:async-signal",["AsyncSignal"],function(a,b,c,d){a.AsyncSignal=b('AsyncSignal');},3);
__d("curry",["bind"],function(a,b,c,d,e,f){var g=b('bind'),h=g(null,g,null);e.exports=h;});
__d("Popover",["Arbiter","ArbiterMixin","ContextualLayer","ContextualLayerHideOnScroll","CSS","DataStore","DOM","Event","Focus","Keys","KeyStatus","LayerHideOnEscape","Toggler","copyProperties","curry","mixin"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ArbiterMixin'),i=b('ContextualLayer'),j=b('ContextualLayerHideOnScroll'),k=b('CSS'),l=b('DataStore'),m=b('DOM'),n=b('Event'),o=b('Focus'),p=b('Keys'),q=b('KeyStatus'),r=b('LayerHideOnEscape'),s=b('Toggler'),t=b('copyProperties'),u=b('curry'),v=b('mixin');s.subscribe(['show','hide'],function(aa,ba){var ca=l.get(ba.getActive(),'Popover');if(ca)if(aa==='show'){ca.showLayer();}else ca.hideLayer();});var w=v(h);for(var x in w)if(w.hasOwnProperty(x))z[x]=w[x];var y=w===null?null:w.prototype;z.prototype=Object.create(y);z.prototype.constructor=z;z.__superConstructor__=w;function z(aa,ba,ca,da){this._root=aa;this._triggerElem=ba;this._behaviors=ca;this._config=da||{};this._disabled=!!this._config.disabled;this._listeners=[];if(!this._disabled&&(ba.nodeName!=='A'||ba.rel!=='toggle'))this._setupClickListener();this._setupKeyListener();ba.setAttribute('role','button');l.set(aa,'Popover',this);}z.prototype.ensureInit=function(){if(!this._layer)this._init();};z.prototype.showLayer=function(){this.ensureInit();this._layer.show();s.show(this._root);k.addClass(this._root,'selected');this.inform('show');this._triggerElem.setAttribute('aria-expanded','true');};z.prototype.getLayer=function(){return this._layer;};z.prototype.hideLayer=function(){this._layer.hide();this._triggerElem.setAttribute('aria-expanded','false');};z.prototype.isShown=function(){return this._layer&&this._layer.isShown();};z.prototype.setLayerContent=function(aa){this.ensureInit();this._layer.setContent(aa);};z.prototype._init=function(){var aa=new i({context:this._triggerElem,position:'below',arrowDimensions:{offset:12,length:22}},m.create('div'));aa.enableBehaviors([j,r]);s.createInstance(aa.getRoot()).setSticky(false);aa.subscribe('hide',this._onLayerHide.bind(this));this._behaviors&&aa.enableBehaviors(this._behaviors);this._layer=aa;if(this._config.alignh)this._layer.setAlignment(this._config.alignh);if(this._config.layer_content)this._layer.setContent(this._config.layer_content);this.inform('init',null,g.BEHAVIOR_PERSISTENT);};z.prototype._onLayerHide=function(){s.hide(this._root);k.removeClass(this._root,'selected');this.inform('hide');if(q.getKeyDownCode()===p.ESC)o.set(this._triggerElem);};z.prototype.enable=function(){if(!this._disabled)return;this._setupClickListener();this._setupKeyListener();this._disabled=false;};z.prototype.disable=function(){if(this._disabled)return;if(this.isShown())this.hideLayer();while(this._listeners.length)this._listeners.pop().remove();if(this._triggerElem.getAttribute('rel')==='toggle')this._triggerElem.removeAttribute('rel');this._disabled=true;};z.prototype._setupClickListener=function(){this._listeners.push(n.listen(this._triggerElem,'click',u(s.bootstrap,this._triggerElem)));};z.prototype._setupKeyListener=function(){this._listeners.push(n.listen(this._triggerElem,'keydown',this._handleKeyEvent.bind(this)));};z.prototype._handleKeyEvent=function(event){if(event.getModifiers().any)return;switch(n.getKeyCode(event)){case p.DOWN:case p.UP:s.bootstrap(this._triggerElem);break;default:return;}event.prevent();};t(z.prototype,{_layer:null});e.exports=z;});
__d("PopoverMenu",["Arbiter","ArbiterMixin","ARIA","BehaviorsMixin","Event","Focus","Keys","KeyStatus","copyProperties","mixin"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ArbiterMixin'),i=b('ARIA'),j=b('BehaviorsMixin'),k=b('Event'),l=b('Focus'),m=b('Keys'),n=b('KeyStatus'),o=b('copyProperties'),p=b('mixin'),q=p(h,j);for(var r in q)if(q.hasOwnProperty(r))t[r]=q[r];var s=q===null?null:q.prototype;t.prototype=Object.create(s);t.prototype.constructor=t;t.__superConstructor__=q;function t(u,v,w,x){this._popover=u;this._triggerElem=v;this._initialMenu=w;u.subscribe('init',this._onLayerInit.bind(this));u.subscribe('show',this._onPopoverShow.bind(this));u.subscribe('hide',this._onPopoverHide.bind(this));k.listen(this._triggerElem,'keydown',this._handleKeyEventOnTrigger.bind(this));x&&this.enableBehaviors(x);}t.prototype.setMenu=function(u){this._menu=u;var v=u.getRoot();this._popover.setLayerContent(v);u.subscribe('done',this._onMenuDone.bind(this));if(this._popoverShown)this._menu.onShow();i.owns(this._triggerElem,v);this.inform('setMenu',null,g.BEHAVIOR_PERSISTENT);};t.prototype.getPopover=function(){return this._popover;};t.prototype.getTriggerElem=function(){return this._triggerElem;};t.prototype.getMenu=function(){return this._menu;};t.prototype._onLayerInit=function(){this.setMenu(this._initialMenu);this._popover.getLayer().subscribe('key',this._handleKeyEvent.bind(this));};t.prototype._onPopoverShow=function(){if(this._menu){this._menu.onShow();if(n.isKeyDown())this._menu.focusAnItem();}this._popoverShown=true;};t.prototype._onPopoverHide=function(){if(this._menu)this._menu.onHide();this._popoverShown=false;};t.prototype._handleKeyEvent=function(u,v){var w=k.getKeyCode(v);if(w===m.TAB){this._popover.hideLayer();l.set(this._triggerElem);return;}if(v.getModifiers().any)return;switch(w){case m.RETURN:return;case m.UP:case m.DOWN:this._menu.handleKeydown(w,v);break;default:if(this._menu.handleKeydown(w,v)===false){this._menu.blur();this._menu.handleKeydown(w,v);}break;}v.prevent();};t.prototype._handleKeyEventOnTrigger=function(u){var v=k.getKeyCode(u);switch(v){case m.DOWN:case m.UP:break;default:var w=String.fromCharCode(v).toLowerCase();if(!/^\s?$/.test(w)){this._popover.showLayer();this._menu.blur();if(this._menu.handleKeydown(v,u)===false){this._popover.hideLayer();l.set(this._triggerElem);}}}};t.prototype._onMenuDone=function(u){this._popover.hideLayer.bind(this._popover).defer();if(n.isKeyDown())l.set(this._triggerElem);};t.prototype.enable=function(){this._popover.enable();};t.prototype.disable=function(){this._popover.disable();};o(t.prototype,{_popoverShown:false});e.exports=t;});
__d("PopoverAsyncMenu",["AsyncRequest","Event","PopoverMenu","copyProperties"],function(a,b,c,d,e,f){var g=b('AsyncRequest'),h=b('Event'),i=b('PopoverMenu'),j=b('copyProperties'),k={},l=0;for(var m in i)if(i.hasOwnProperty(m))o[m]=i[m];var n=i===null?null:i.prototype;o.prototype=Object.create(n);o.prototype.constructor=o;o.__superConstructor__=i;function o(p,q,r,s,t){this._endpoint=s;this._loadingMenu=r;this._instanceId=l++;k[this._instanceId]=this;this._mouseoverListener=h.listen(q,'mouseover',this._fetchMenu.bind(this));i.call(this,p,q,null,t);}o.prototype._onLayerInit=function(){if(!this._menu)this.setMenu(this._loadingMenu);this._fetchMenu();this._popover.getLayer().subscribe('key',this._handleKeyEvent.bind(this));};o.prototype._fetchMenu=function(){if(this._fetched)return;new g().setURI(this._endpoint).setData({pmid:this._instanceId}).send();this._fetched=true;if(this._mouseoverListener){this._mouseoverListener.remove();this._mouseoverListener=null;}};o.setMenu=function(p,q){k[p].setMenu(q);};o.getInstance=function(p){return k[p];};j(o.prototype,{_fetched:false,_mouseoverListener:null});e.exports=o;});
__d("PopoverMenuInterface",["ArbiterMixin","copyProperties","emptyFunction","mixin"],function(a,b,c,d,e,f){var g=b('ArbiterMixin'),h=b('copyProperties'),i=b('emptyFunction'),j=b('mixin'),k=j(g);for(var l in k)if(k.hasOwnProperty(l))n[l]=k[l];var m=k===null?null:k.prototype;n.prototype=Object.create(m);n.prototype.constructor=n;n.__superConstructor__=k;function n(){}n.prototype.done=function(){this.inform('done');};h(n.prototype,{getRoot:i,onShow:i,onHide:i,focusAnItem:i.thatReturnsFalse,blur:i,handleKeydown:i.thatReturnsFalse});e.exports=n;});
__d("PopoverMenuOverlappingBorder",["CSS","DOM","Style","copyProperties","cx","shield"],function(a,b,c,d,e,f){var g=b('CSS'),h=b('DOM'),i=b('Style'),j=b('copyProperties'),k=b('cx'),l=b('shield');function m(n){this._popoverMenu=n;this._popover=n.getPopover();this._triggerElem=n.getTriggerElem();}m.prototype.enable=function(){this._setMenuSubscription=this._popoverMenu.subscribe('setMenu',l(this._onSetMenu,this));};m.prototype.disable=function(){this._popoverMenu.unsubscribe(this._setMenuSubscription);this._setMenuSubscription=null;this._removeBorderSubscriptions();this._removeShortBorder();};m.prototype._onSetMenu=function(){this._removeBorderSubscriptions();this._menu=this._popoverMenu.getMenu();this._renderShortBorder(this._menu.getRoot());this._showSubscription=this._popover.subscribe('show',l(this._updateBorder,this));this._menuSubscription=this._menu.subscribe(['change','resize'],l(Function.prototype.defer,l(this._updateBorder,this)));this._updateBorder();};m.prototype._updateBorder=function(){var n=this._menu.getRoot(),o=this._triggerElem.offsetWidth,p=Math.max(n.offsetWidth-o,0);i.set(this._shortBorder,'width',p+'px');};m.prototype._renderShortBorder=function(n){this._shortBorder=h.create('div',{className:"_54hx"});h.appendContent(n,this._shortBorder);g.addClass(n,"_54hy");};m.prototype._removeShortBorder=function(){if(this._shortBorder){h.remove(this._shortBorder);this._shortBorder=null;g.removeClass(this._popoverMenu.getMenu().getRoot(),"_54hy");}};m.prototype._removeBorderSubscriptions=function(){if(this._showSubscription){this._popover.unsubscribe(this._showSubscription);this._showSubscription=null;}if(this._menuSubscription){this._menu.unsubscribe(this._menuSubscription);this._menuSubscription=null;}};j(m.prototype,{_shortBorder:null,_setMenuSubscription:null,_showSubscription:null,_menuSubscription:null});e.exports=m;});
__d("Tour",["Arbiter","LayerDestroyOnHide","LayerHideOnEscape","NavigationMessage","copyProperties"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('LayerDestroyOnHide'),i=b('LayerHideOnEscape'),j=b('NavigationMessage'),k=b('copyProperties');function l(){if(l._instance)l._instance.setTourComplete();l._instance=this;}l.prototype.init=function(){this._pageLeaveToken=g.subscribe('onload/exit',this.handleLeavePage.bind(this));this._navigationBeginToken=g.subscribe(j.NAVIGATION_BEGIN,this.handleTransition.bind(this));this.steps={};return this;};l.prototype.registerStep=function(m,n){m.disableBehavior(h);m.disableBehavior(i);this.steps[n]=m;m.subscribe('show',function(){m.inform('tour-dialog-show',m);});if(!this.getTourStarted())this.setTourStart();};l.prototype._unsubscribeSubscriptions=function(){this._navigationBeginToken.unsubscribe();this._pageLeaveToken.unsubscribe();};l.prototype.handleLeavePage=function(){this._unsubscribeSubscriptions();};l.prototype.handleTransition=function(){this._unsubscribeSubscriptions();};l.prototype.handleTourStart=function(){};l.prototype.handleTourStop=function(){};l.prototype.handleTourComplete=function(){};l.prototype.showStep=function(m){var n=this.steps[m];if(!(this.openDialog==n))this.hideOpenDialog();if(!n)return;this.openDialog=n;n.show();};l.prototype.hideOpenDialog=function(){if(this.openDialog){this.openDialog.hide();this.openDialog=null;}};l.prototype.getTourStarted=function(){return this.tourStarted;};l.prototype.setTourStart=function(){this.tourStarted=true;this.handleTourStart();};l.prototype.setTourStop=function(){this.tourStarted=false;this.hideOpenDialog();this.handleTourStop();};l.prototype.setTourComplete=function(){if(this.tourComplete)return;this.setTourStop();this.tourComplete=true;this.handleTourComplete();};l.prototype.hideStep=function(m){var n=this.steps[m];n&&n.hide();};l.getInstance=function(){return l._instance||(l._instance=new l());};k(l.prototype,{tourStarted:false,tourComplete:false,_navigationBeginToken:null,_pageLeaveToken:null,steps:{},openDialog:null});e.exports=l;});
__d("EgoUnitSlideInsert",["Animation","CSS","DataStore","DOM","Ease","Event","Parent","TidyArbiterMixin","cx","copyProperties","tidyEvent"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('CSS'),i=b('DataStore'),j=b('DOM'),k=b('Ease'),l=b('Event'),m=b('Parent'),n=b('TidyArbiterMixin'),o=b('cx'),p=b('copyProperties'),q=b('tidyEvent'),r='sliding',s="EgoSlider/End",t=p({isSliding:function(u){return i.get(u,r);},runAfterSlide:function(u,v){var w=q(t.subscribe(s,function(x,y){if(y===u){w&&w.unsubscribe();v();}}));},registerSlide:function(u,v){l.listen(u,'click',function(w){var x=m.byClass(w.getTarget(),"_5cl_");if(!x)return;var y=m.byClass(u,'ego_unit'),z=0,aa=m.byClass(y,'ego_unit_container'),ba=j.scry(aa,'.ego_unit')[0],ca=m.byClass(u,'ego_column');if(ba===y)if(h.hasClass(ca,"_8_9")){if(aa.firstChild===y)z=4;}else if(y.nextSibling){y.nextSibling.style.paddingTop='0px';y.nextSibling.style.borderTop='0px';}h.addClass(y,"_5cl-");i.set(y,r,true);new g(y).to('height',0).to('padding-top',z).to('padding-bottom',0).to('margin',0).from('opacity',1).to('opacity',0).ease(k.circOut).duration(300).checkpoint(1,function(){j.appendContent(aa,y);j.prependContent(y,v);i.remove(y,r);}).to('height',12).to('opacity',1).to('margin-bottom',10).duration(0).checkpoint(2,function(){t.inform(s,y);}).go();});}},n);e.exports=t;});
__d("FutureSideNavItem",["Arbiter","CSS","DOM","Parent","$","createArrayFrom"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('CSS'),i=b('DOM'),j=b('Parent'),k=b('$'),l=b('createArrayFrom');function m(n,o){this.id=n.id;this.up=o;this.endpoint=n.endpoint;this.type=n.type;this.node=n.node||k(n.id);this.paths=n.path?l(n.path):[];this.keys=n.key?l(n.key):[];var p=this._findKeys(this.keys);this.numericKey=p.numeric||this.keys[0];this.textKey=p.text||this.keys[0];this._pathPattern=this._buildRegex(this.paths);this._keyPattern=this._buildRegex(this.keys);this.hideLoading();this.hideSelected();}m.prototype.equals=function(n){return n&&n.id===this.id;};m.prototype.getLinkNode=function(){return (i.scry(this.node,'a.item')[0]||i.scry(this.node,'a.subitem')[0]);};m.prototype.matchPath=function(n){return this._matchInput(this._pathPattern,n);};m.prototype.matchKey=function(n){return this._matchInput(this._keyPattern,n);};m.prototype._matchInput=function(n,o){var p=n&&n.exec(o);return p&&p.slice(1);};m.prototype.getTop=function(){return this.isTop()?this:this.up.getTop();};m.prototype.isTop=function(n){return !this.up;};m.prototype.setCount=function(n,o){return this._updateCount(n,true);};m.prototype.incrementCount=function(n,o){return this._updateCount(n,false);};m.prototype._updateCount=function(n,o,p){var q=i.scry(this.node,'span.count')[0],r=q&&i.scry(q,'span.countValue')[0];if(r){var s=o?0:parseInt(i.getText(r),10),t=Math.max(0,s+n),u=this.isTop()?'hidden':'hiddenSubitem';i.setContent(r,t);p&&h.conditionClass(this.node,u,!t);h.conditionClass(q,'hidden_elem',!t);if(this.isTop()){var v=i.scry(this.node,'div.linkWrap')[0];if(v){h.conditionClass(v,'noCount',!t);h.conditionClass(v,'hasCount',t);}}}g.inform('NavigationMessage.COUNT_UPDATE_DONE');};m.prototype.showLoading=function(){h.addClass(this.node,'loading');};m.prototype.hideLoading=function(){h.removeClass(this.node,'loading');};m.prototype.showSelected=function(){h.addClass(this.node,'selectedItem');h.hasClass(this.node,'hider')&&h.addClass(this._getExpanderParent(),'expandedMode');};m.prototype.hideSelected=function(){h.removeClass(this.node,'selectedItem');};m.prototype.showChildren=function(){h.addClass(this.node,'open');};m.prototype.hideChildren=function(){h.removeClass(this.node,'open');};m.prototype._getExpanderParent=function(){return j.byClass(this.node,'expandableSideNav');};m.prototype._buildRegex=function(n){if(n.length){var o=n.map(function(p){if(typeof p==="string"){return p.replace(/([^a-z0-9_])/ig,'\\$1');}else if(p&&p.regex)return p.regex;});return new RegExp('^(?:'+o.join('|')+')$');}};m.prototype._findKeys=function(n){var o=/^(app|group|fl)_/,p={};for(var q=0;q<n.length;q++){var r=o.test(n[q]);if(r&&!p.numeric){p.numeric=n[q];}else if(!r&&!p.text)p.text=n[q];if(p.numeric&&p.text)break;}return p;};e.exports=m;});
__d("FutureSideNavSection",["Bootloader","DOMQuery","$"],function(a,b,c,d,e,f){var g=b('Bootloader'),h=b('DOMQuery'),i=b('$');function j(k){this.id=k.id;this.node=this.node||i(k.id);this.editEndpoint=k.editEndpoint;}j.prototype.equals=function(k){return k&&k.id===this.id;};j.prototype.getEditorAsync=function(k){g.loadModules(['SortableSideNav'],function(l){var m=new l(h.find(this.node,'ul.uiSideNav'),this.editEndpoint);k(m);}.bind(this));};e.exports=j;});
__d("FutureSideNav",["Arbiter","Bootloader","ChannelConstants","CSS","DOM","Event","FutureSideNavItem","FutureSideNavSection","NavigationMessage","PageTransitions","Parent","Run","SelectorDeprecated","URI","UserAgent","Vector","copyProperties","createArrayFrom"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('Bootloader'),i=b('ChannelConstants'),j=b('CSS'),k=b('DOM'),l=b('Event'),m=b('FutureSideNavItem'),n=b('FutureSideNavSection'),o=b('NavigationMessage'),p=b('PageTransitions'),q=b('Parent'),r=b('Run'),s=b('SelectorDeprecated'),t=b('URI'),u=b('UserAgent'),v=b('Vector'),w=b('copyProperties'),x=b('createArrayFrom');function y(){y.instance&&y.instance.uninstall();y.instance=this;}y.prototype.init=function(z,aa,ba){this.root=z;this.items={};this.sections={};this.editor=null;this.editing=false;this.selected=null;this.loading=null;this.keyParam='sk';this.defaultKey=aa;this.uri=t.getRequestURI();this.ajaxPipe=ba;this.ajaxPipeEndpoints={};this.sidecol=true;this._installed=true;this._handlePageTransitions=true;p.registerHandler(function(ca){return this._handlePageTransitions&&this.handlePageTransition(ca);}.bind(this));this._eventHandlers=[];this._arbiterSubscriptions=[g.subscribe(o.NAVIGATION_COMPLETED,this.navigationComplete.bind(this)),g.subscribe(o.NAVIGATION_FAILED,this.navigationFailed.bind(this)),g.subscribe(o.NAVIGATION_COUNT_UPDATE,this.navigationCountUpdate.bind(this)),g.subscribe(o.NAVIGATION_SELECT,this.navigationSelect.bind(this)),g.subscribe(i.getArbiterType('nav_update_counts'),this.navigationCountUpdateFromPresence.bind(this))];this._explicitHover=[];this._ensureHover('sideNavItem');this._eventHandlers.push(l.listen(window,'resize',this._handleResize.bind(this)));this._checkNarrow();this._selectorSubscriptions=[];window.Selector&&this._selectorSubscriptions.push(s.subscribe(['open','close'],function(ca,da){var ea=q.byClass(da.selector,'sideNavItem');ea&&j.conditionClass(ea,'editMenuOpened',ca==='open');}));r.onLeave(this.uninstall.bind(this));if(this._pendingSections)this._pendingSections.forEach(function(ca){this.initSection.apply(this,ca);}.bind(this));};y.prototype._checkNarrow=function(){j.conditionClass(this.root,'uiNarrowSideNav',v.getElementPosition(this.root).x<20);};y.prototype._ensureHover=function(z){if(u.ie()<8)h.loadModules(['ExplicitHover'],function(aa){this._explicitHover.push(new aa(this.root,z));}.bind(this));};y.prototype.uninstall=function(){if(this._installed){this._installed=false;this._handlePageTransitions=false;this._arbiterSubscriptions.forEach(g.unsubscribe);this._selectorSubscriptions.forEach(function(z){s.unsubscribe(z);});this._eventHandlers.forEach(function(z){z.remove();});this._explicitHover.forEach(function(z){z.uninstall();});}};y.prototype.initSection=function(z,aa){if(!this._installed){this._pendingSections=this._pendingSections||[];this._pendingSections.push(arguments);return;}this._initItems(aa);this._initSection(z);};y.prototype.addItem=function(z,aa){this._initItem(z,aa);};y.prototype._initItems=function(z){var aa=function(ba,ca){var da=this._initItem(ba,ca);if(ba.children)ba.children.forEach(function(ea){aa(ea,da);});}.bind(this);x(z).forEach(function(ba){aa(ba,null);});};y.prototype._initItem=function(z,aa){var ba=this.items[z.id]=this._constructItem(z,aa);if(ba.equals(this.selected)||z.selected)this.setSelected(ba);var ca=ba.getLinkNode();ca&&this._eventHandlers.push(l.listen(ca,'click',function(event){return !this.editing;}.bind(this)));return ba;};y.prototype._initSection=function(z){var aa=this.sections[z.id]=this._constructSection(z);this._eventHandlers.push(l.listen(aa.node,'click',this.handleSectionClick.bind(this,aa)));k.scry(aa.node,'div.bookmarksMenuButton').forEach(j.show);return aa;};y.prototype._constructItem=function(z,aa){return new m(z,aa);};y.prototype._constructSection=function(z){return new n(z);};y.prototype.handleSectionClick=function(z,event){var aa=this._getEventTarget(event,'a'),ba=this._getItemForNode(aa);if(!aa){return;}else if(j.hasClass(aa.parentNode,'uiMenuItem')){this._handleMenuClick(z,ba,aa.parentNode,event);}else this._handleLinkClick(z,aa,event);};y.prototype._getEventTarget=function(event,z){var aa=event.getTarget();if(aa.tagName!==z.toUpperCase()){return q.byTag(aa,z);}else return aa;};y.prototype._handleMenuClick=function(z,aa,ba,event){if(j.hasClass(ba,'rearrange'))this.beginEdit(z);};y.prototype._handleLinkClick=function(z,aa,event){if(j.hasClass(aa,'navEditDone')){this.editing?this.endEdit():this.beginEdit(z);event.kill();}};y.prototype.getItem=function(z){if(this._isCurrentPath(z)){return this._getItemForKey(this._getKey(z.getQueryData())||this.defaultKey);}else return this._getItemForPath(z.getPath());};y.prototype.getNodeForKey=function(z){var aa=this._getItemForKey(z);if(aa)return aa.node;};y.prototype._isCurrentPath=function(z){return z.getDomain()===this.uri.getDomain()&&z.getPath()===this.uri.getPath();};y.prototype._getKey=function(z){return z[this.keyParam];};y.prototype._getItemForNode=function(z){z=q.byClass(z,'sideNavItem');return z&&this.items[z.id];};y.prototype._getItemForKey=function(z){return this._findItem(function(aa){return aa.matchKey(z);});};y.prototype._getItemForPath=function(z){return this._findItem(function(aa){return aa.matchPath(z);});};y.prototype._findItem=function(z){for(var aa in this.items)if(z(this.items[aa]))return this.items[aa];};y.prototype.removeItem=function(z){if(z&&this.items[z.id]){k.remove(z.node);delete this.items[z.id];}};y.prototype.removeItemByKey=function(z){this.removeItem(this._getItemForKey(z));};y.prototype.moveItem=function(z,aa,ba){var ca=k.find(z.node,'ul.uiSideNav');(ba?k.prependContent:k.appendContent)(ca,aa.node);};y.prototype.setLoading=function(z){this.loading&&this.loading.hideLoading();this.loading=z;this.loading&&this.loading.showLoading();};y.prototype.setSelected=function(z){this.setLoading(null);if(this.selected){this.selected.hideSelected();this.selected.getTop().hideChildren();}this.selected=z;if(this.selected){this.selected.showSelected();this.selected.getTop().showChildren();}};y.prototype.handlePageTransition=function(z){var aa=this.getItem(z),ba=aa&&aa.endpoint&&this._doPageTransition(aa,z);return ba;};y.prototype._doPageTransition=function(z,aa){this.setLoading(z);this._sendPageTransition(z.endpoint,w(this._getTransitionData(z,aa),aa.getQueryData()));return true;};y.prototype._sendPageTransition=function(z,aa){aa.endpoint=z;g.inform(o.NAVIGATION_BEGIN,{useAjaxPipe:this._useAjaxPipe(z),params:aa});};y.prototype._getTransitionData=function(z,aa){var ba={};ba.sidecol=this.sidecol;ba.path=aa.getPath();ba[this.keyParam]=z.textKey;ba.key=z.textKey;return ba;};y.prototype._useAjaxPipe=function(z){return this.ajaxPipe||this.ajaxPipeEndpoints[z];};y.prototype.navigationComplete=function(){this.loading&&this.setSelected(this.loading);};y.prototype.navigationFailed=function(){this.setLoading(null);};y.prototype.navigationSelect=function(z,aa){var ba=this._getItemForKey(this._getKey(aa));if(aa.asLoading){this.setLoading(ba);}else this.setSelected(ba);};y.prototype.navigationCountUpdate=function(z,aa){var ba=this._getItemForKey(aa&&aa.key);if(ba)if(typeof aa.count!=="undefined"){ba.setCount(aa.count,aa.hide);}else if(typeof aa.increment!=="undefined")ba.incrementCount(aa.increment,aa.hide);};y.prototype.navigationCountUpdateFromPresence=function(z,aa){aa=aa.obj;if(aa)if(!aa.class_name||aa.class_name&&j.hasClass(this.root,aa.class_name))if(aa.items)for(var ba=0;ba<aa.items.length;ba++)this.navigationCountUpdate(z,aa.items[ba]);};y.prototype.beginEdit=function(z){if(!this.editing){this.editing=true;j.addClass(this.root,'editMode');this._updateTrackingData();this._initEditor(z);}};y.prototype.endEdit=function(){if(this.editing){j.removeClass(this.root,'editMode');this.editor&&this.editor.endEdit();this.editor=null;this.editing=false;this._updateTrackingData();}};y.prototype._updateTrackingData=function(z){var aa=this.root.getAttribute('data-gt')||"{}";try{aa=JSON.parse(aa);if(this.editing){aa.editing=true;}else delete aa.editing;this.root.setAttribute('data-gt',JSON.stringify(aa));}catch(ba){}};y.prototype._initEditor=function(z){z.getEditorAsync(function(aa){if(this.editing){this.editor=aa;this.editor.beginEdit();}}.bind(this));};y.getInstance=function(){return y.instance||new y();};y.instance=null;w(y.prototype,{_handleResize:(function(){var z;return function(){z&&clearTimeout(z);z=this._checkNarrow.bind(this).defer(200);};})()});e.exports=y;});
__d("PageFanning",["Animation","AsyncRequest","CSS","DOM","FutureSideNav","Parent","URI","$","collectDataAttributes","copyProperties"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('AsyncRequest'),i=b('CSS'),j=b('DOM'),k=b('FutureSideNav'),l=b('Parent'),m=b('URI'),n=b('$'),o=b('collectDataAttributes'),p=b('copyProperties'),q={setFanStatus:function(s,t,u,v,w,x,y){var z={ft:{}};if(s)z={ft:o(s,['ft']).ft};w=w||function(ca){var da=ca.getPayload();if(!da||!s)return;if(da.reload){q.reloadOnFanStatusChanged(da.preserve_tab);}else r(s,da);};var aa={fbpage_id:t,add:u,reload:v};if(y!=null)p(aa,y);p(aa,z);var ba=new h().setURI('/ajax/pages/fan_status.php').setData(aa).setNectarModuleDataSafe(s).setHandler(w);if(x)ba.setErrorHandler(x);ba.send();return false;},reloadOnFanStatusChanged:function(s){var t=m.getRequestURI();if(s){var u=k.getInstance().selected.textKey;if(!t.getQueryData().sk&&u)t.addQueryData({sk:u});}window.location.href=t;},toggleLikeOnFanStatusChanged:function(s,t){var u=n('liked_pages_like_action_'+s),v=n('liked_pages_undo_action_'+s);i.conditionClass(u,'hidden_elem',t);i.conditionClass(v,'hidden_elem',!t);}};function r(s,t){var u=t.feedback;if(!u)return;if(l.byClass(s,'fbTimelineEscapeSectionItem'))s=l.byClass(s,'fan_status_inactive')||s;var v=j.create('span',{className:'fan_status_inactive'},u);s.parentNode.replaceChild(v,s);var w=function(){if(t.can_repeat_action)v.parentNode.replaceChild(s,v);};new g(v).duration(3000).checkpoint().to('backgroundColor','#FFFFFF').duration(1000).ondone(w).go();}e.exports=q;});
__d("PageLikeButton",["Arbiter","AsyncRequest","AsyncResponse","Event","PageFanning","SubscribeButton","FeedBlacklistButton","Tour","URI"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('AsyncRequest'),i=b('AsyncResponse'),j=b('Event'),k=b('PageFanning'),l=b('SubscribeButton'),m=b('FeedBlacklistButton'),n=b('Tour'),o=b('URI'),p={LIKED:'liked',UNLIKED:'unliked',LIKED_SUCCESS:'liked_success',init:function(s,t,u,v,w,x,y,z,aa,ba,ca){g.subscribe(p.LIKED,function(da,ea){if(v===ea.profile_id){s.swap();if(!aa)u.suppressNextMouseEnter&&u.suppressNextMouseEnter();}});g.subscribe(p.UNLIKED,function(da,ea){if(v==ea.profile_id){s.unswap(ca);u.hideFlyout&&u.hideFlyout();}});if(z)g.subscribe(p.LIKED_SUCCESS,function(da,ea){var fa=o.getRequestURI().getQueryData().app_data;if(ea.profile_id==v)new h().setURI('/ajax/pages/fetch_app_column.php').setData({profile_id:v,tab_key:z,app_data:fa}).send();});j.listen(t,'click',r.bind(null,v,w,x,y));},initCallout:function(s,t){var u=document.getElementById('pageActionLikeCalloutButton');j.listen(u,'click',r.bind(null,s,t,null,null));},initUnlike:function(s,t,u){j.listen(s,'click',function(event){q(event.getTarget(),t,false,function(v){g.inform(p.LIKED,{profile_id:t});i.defaultErrorHandler(v);},u);p.informUnlike(t);});},informLike:function(s,t,u){var v={profile_id:s,target:t,origin:u};g.inform(p.LIKED,v);g.inform(l.SUBSCRIBED,v);g.inform(m.UNBLACKLIST,v);},informLikeSuccess:function(s){var t={profile_id:s};g.inform(p.LIKED_SUCCESS,t);},informUnlike:function(s){var t={profile_id:s,check_enabled_follow:true};g.inform.bind(g,p.UNLIKED,t).defer();g.inform.bind(g,l.UNSUBSCRIBED,t).defer();g.inform(m.BLACKLIST,t);}};function q(s,t,u,v,w,x,y){n.getInstance().hideStep('low_page_likes');k.setFanStatus(s,t,u,false,function(){p.informLikeSuccess(t);},v,{fan_origin:w,fan_source:x,cat:y});}function r(s,t,u,v,event){q(event.getTarget(),s,true,function(w){g.inform(p.UNLIKED,{profile_id:s});i.defaultErrorHandler(w);},t,u,v);p.informLike(s,event.getTarget(),t);}e.exports=p;a.PageLikeButton=p;});
__d("NetEgo",["Animation","Arbiter","CSS","DOM","EgoUnitSlideInsert","PageLikeButton","Parent","URI","ge"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('Arbiter'),i=b('CSS'),j=b('DOM'),k=b('EgoUnitSlideInsert'),l=b('PageLikeButton'),m=b('Parent'),n=b('URI'),o=b('ge'),p={setup:function(q){h.subscribe([l.LIKED,'FriendRequest/sending'],function(r,s){if((q==s.profile_id&&s.origin=='hovercard')||q==s.uid){var t=o(document.body,'.ego_unit_container');if(t){var u=j.scry(t,'.ego_unit'),v=u.length;for(var w=0;w<v;w++){var x=u[w].getAttribute('data-ego-fbid');if(x==q){var y=j.scry(u[w],'.ego_action a')[0];if(y)y.click();break;}}}}});},updateXids:function(q,r){if(q.length==0&&r.length==0)return;var s=function(ca){return function(da){var ea=da.getAttribute(ca);if(!ea)return false;var fa=new n(ea).getQueryData();return !!fa.xids;};},t=j.scry(document.body,'.ego_unit a');t=t.filter(s('ajaxify'));if(t.length==0)return;var u=new n(t[0].getAttribute('ajaxify')),v=u.getQueryData();if(!v.xids)return;try{var x=JSON.parse(v.xids);}catch(w){return;}for(var y=0;y<q.length;++y)delete x[q[y]];for(y=0;y<r.length;++y)x[r[y]]=1;var z=JSON.stringify(x),aa=function(ca,da){u=new n(ca.getAttribute(da));v=u.getQueryData();v.xids=z;u.setQueryData(v);ca.setAttribute(da,u.toString());};for(y=0;y<t.length;++y)aa(t[y],'ajaxify');var ba=j.scry(document.body,'.ego_unit form');ba=ba.filter(s('action'));for(y=0;y<ba.length;++y)aa(ba[y],'action');},replaceUnit:function(q,r,s,t){var u=m.byClass(q,'ego_unit_container');if(u&&k.isSliding(q)){var v=j.appendContent(u,r);v.forEach(i.hide);k.runAfterSlide(q,p._replaceUnitElement.bind(null,q,v));return;}p._replaceUnit(q,r,s,t);},_replaceUnit:function(q,r,s,t){var u=j.insertAfter(q,r);u.forEach(i.hide);if(t!==undefined&&t!==null){(function(){p._replaceUnitFadeout(q,u,s);}).defer(t);}else p._replaceUnitFadeout(q,u,s);},_replaceUnitFadeout:function(q,r,s){if(s){new g(q).from('opacity',1).to('opacity',0).duration(s).checkpoint(1,function(){p._replaceUnitElement(q,r);}).go();}else p._replaceUnitElement(q,r);},_replaceUnitElement:function(q,r){j.remove(q);r.forEach(i.show);h.inform('netego_replacedUnit');p.clearHeader();},clearHeader:function(){var q=j.scry(document.body,'.ego_column'),r=[];for(var s=0;s<q.length;++s)r=r.concat(j.scry(q[s],'.uiHeader'));for(s=0;s<r.length;++s){var t=r[s].nextSibling;if(!t||t.childNodes.length===0){j.remove(r[s]);}else if(t.childNodes.length===1){var u=t.childNodes[0];if(i.hasClass(u,'ego_appended_units')&&u.childNodes.length===0)j.remove(r[s]);}}}};e.exports=p;});
__d("Menu",["CSS","DataStore","DOM","Event","Keys","Parent","PopoverMenuInterface","ScrollableArea","Style","copyProperties","cx"],function(a,b,c,d,e,f){var g=b('CSS'),h=b('DataStore'),i=b('DOM'),j=b('Event'),k=b('Keys'),l=b('Parent'),m=b('PopoverMenuInterface'),n=b('ScrollableArea'),o=b('Style'),p=b('copyProperties'),q=b('cx');for(var r in m)if(m.hasOwnProperty(r))t[r]=m[r];var s=m===null?null:m.prototype;t.prototype=Object.create(s);t.prototype.constructor=t;t.__superConstructor__=m;function t(u,v){m.call(this);this._items=[];for(var w=0;w<u.length;w++)this._items[w]=new u[w].ctor(u[w]);this._config=v||{};this._theme=v.theme||{};}t.prototype.addItem=function(u){this._addItem(u);};t.prototype.addItemBefore=function(u,v){this._addItem(u,v,false);};t.prototype.addItemAfter=function(u,v){this._addItem(u,v,true);};t.prototype._addItem=function(u,v,w){var x=this._items.indexOf(u);if(x>=0){var y=w?-1:1;if(this._items[x+y]==v)return;this._items.splice(x,1);}if(v){x=this._items.indexOf(v);if(x<0)throw new Error('reference item must already be in the menu');if(w)x++;this._items.splice(x,0,u);}else this._items.push(u);if(this._root)this._insertItem(u,v,w);};t.prototype.removeItem=function(u){var v=this._items.indexOf(u);if(v<0)return;this._items.splice(v,1);this._root&&i.remove(u.getRoot());};t.prototype.forEachItem=function(u){this._items.forEach(u);};t.prototype.getItemAt=function(u){return this._items[u]||null;};t.prototype.getRoot=function(){if(!this._root)this._render();return this._root;};t.prototype.onShow=function(){if(this._config.maxheight)if(!this._scrollableArea){this._scrollableArea=n.fromNative(this._scrollableElems.root,{fade:true});}else this._scrollableArea.resize();};t.prototype.onHide=function(){this.blur();};t.prototype.focusAnItem=function(){return this._attemptFocus(0,1);};t.prototype.blur=function(){if(this._focused){this._focused.blur();this._focused=null;this.inform('blur');}};t.prototype.handleKeydown=function(u,v){var w=this._items.indexOf(this._focused);switch(u){case k.UP:case k.DOWN:var x=u===k.UP?-1:1;if(w!==-1){return this._attemptFocus(w+x,x);}else if(u===k.UP){return this._attemptFocus(this._items.length-1,-1);}else return this._attemptFocus(0,1);break;case k.SPACE:if(this._items.indexOf(this._focused)!==-1){this._handleItemClick(this._focused,v);return true;}return false;default:var y=String.fromCharCode(u).toLowerCase(),z;for(var aa=w+1;aa<this._items.length;aa++){z=this._items[aa].getAccessKey();if(z&&z.charAt(0).toLowerCase()===y)if(this._focusItem(this._items[aa]))return true;}return false;}};t.prototype._render=function(){this._ul=i.create('ul',{className:"_54nf"});this._ul.setAttribute('role','menu');this._items.forEach(function(w){this._insertItem(w,null);}.bind(this));j.listen(this._ul,'click',this._handleClick.bind(this));j.listen(this._ul,'mouseover',this._handleMouseOver.bind(this));j.listen(this._ul,'mouseout',this._handleMouseOut.bind(this));var u=this._ul;if(this._config.maxheight){this._scrollableElems=n.renderDOM();i.setContent(this._scrollableElems.content,this._ul);u=this._scrollableElems.root;o.set(this._scrollableElems.wrap,'max-height',this._config.maxheight+'px');}var v="_54nq"+(this._config.className?' '+this._config.className:'')+(this._theme.className?' '+this._theme.className:'');this._root=i.create('div',{className:v},i.create('div',{className:"_54ng"},u));this._config.id&&this._root.setAttribute('id',this._config.id);this.inform('rendered',this._root);};t.prototype._needsDefaultBehavior=function(u){if(u.isDefaultRequested&&u.isDefaultRequested()){var v=l.byTag(u.getTarget(),'a'),w=v&&v.getAttribute('href');return w&&w[0]!=='#';}return false;};t.prototype._handleClick=function(u){if(!this._needsDefaultBehavior(u)){var v=this._getItemInstance(u.getTarget());if(v)return this._handleItemClick(v,u);}};t.prototype._handleItemClick=function(u,v){this.inform('itemclick',{item:u,event:v});if(u.hasAction())this.done();return u.handleClick();};t.prototype._handleMouseOver=function(u){var v=this._getItemInstance(u.getTarget());v&&this._focusItem(v,true);};t.prototype._handleMouseOut=function(u){var v=this._getItemInstance(u.getTarget());if(v&&this._focused===v)this.blur();};t.prototype._insertItem=function(u,v,w){var x=u.getRoot();g.addClass(x,'__MenuItem');h.set(x,'MenuItem',u);if(v){var y=w?i.insertAfter:i.insertBefore;y(v.getRoot(),x);}else i.appendContent(this._ul,x);};t.prototype._attemptFocus=function(u,v){var w=this.getItemAt(u);if(w)if(this._focusItem(w)){return true;}else return this._attemptFocus(u+v,v);return false;};t.prototype._focusItem=function(u,v){if(u.focus(v)!==false){if(this._focused!==u){this.blur();this._focused=u;this.inform('focus');}return true;}return false;};t.prototype._getItemInstance=function(u){var v=l.byClass(u,'__MenuItem');return v?h.get(v,'MenuItem'):null;};p(t.prototype,{_focused:null,_root:null});e.exports=t;});
__d("MenuItemInterface",["copyProperties","emptyFunction"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=b('emptyFunction');function i(){}i.prototype.getRoot=function(){if(!this._root)this._root=this.render();return this._root;};g(i.prototype,{_root:null,render:h,getAccessKey:h,hasAction:h.thatReturnsFalse,focus:h.thatReturnsFalse,blur:h.thatReturnsFalse,handleClick:h.thatReturnsFalse});e.exports=i;});
__d("MenuItemBase",["DOM","HTML","MenuItemInterface","cx"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('HTML'),i=b('MenuItemInterface'),j=b('cx');for(var k in i)if(i.hasOwnProperty(k))m[k]=i[k];var l=i===null?null:i.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=i;function m(n){i.call(this);this._data=n;}m.prototype.render=function(){var n="_54ni";if(this._data.className)n+=' '+this._data.className;var o={className:n,'aria-selected':'false'};for(var p in this._data)if(p.indexOf('data-')===0)o[p]=this._data[p];return g.create('li',o,this._renderItemContent());};m.prototype._renderItemContent=function(){return h(this._data.markup).getNodes();};e.exports=m;});
__d("MenuItem",["CSS","DOM","MenuItemBase","React","copyProperties","cx","emptyFunction","startsWith"],function(a,b,c,d,e,f){var g=b('CSS'),h=b('DOM'),i=b('MenuItemBase'),j=b('React'),k=b('copyProperties'),l=b('cx'),m=b('emptyFunction'),n=b('startsWith'),o=['href','rel','ajaxify','target'];function p(u,v){var w={};o.forEach(function(x){if(x in v)w[x]=v[x];});h.setAttributes(u,w);}function q(u){o.forEach(function(v){u.removeAttribute(v);});}for(var r in i)if(i.hasOwnProperty(r))t[r]=i[r];var s=i===null?null:i.prototype;t.prototype=Object.create(s);t.prototype.constructor=t;t.__superConstructor__=i;function t(u){i.call(this,u);this._disabled=!!this._data.disabled;}t.prototype.getValue=function(){return this._data.value;};t.prototype.getAccessKey=function(){return this._data.label&&this._data.label.charAt(0);};t.prototype.focus=function(u){if(this.isDisabled()||!this._root.offsetParent)return false;g.addClass(this._root,"_54ne");g.addClass(this._root,'selected');this._root.setAttribute('aria-selected','true');u||this._anchor.focus();};t.prototype.blur=function(){g.removeClass(this._root,"_54ne");g.removeClass(this._root,'selected');this._root.setAttribute('aria-selected','false');};t.prototype.handleClick=function(){if(this.isDisabled())return false;if(typeof this._onclickHandler==='function')return this._onclickHandler();return true;};t.prototype.setOnClickHandler=function(u){this._onclickHandler=u;};t.prototype._renderItemContent=function(){this._anchor=h.create('a',{className:"_54nc",tabIndex:this.isDisabled()?-1:0});if(this._data.reactChildren){j.renderComponent(j.DOM.span({className:"_54nh"},this._data.reactChildren),this._anchor);this._data.label=this._anchor.innerText||this._anchor.textContent;}else h.setContent(this._anchor,h.create('span',{className:"_54nh"},this._data.markup||this._data.label));if(this._data.icon){h.prependContent(this._anchor,this._data.icon);g.addClass(this._anchor,"_54nu");}if(!this.isDisabled())p(this._anchor,this._data);for(var u in this._data)if(typeof u==='string'&&n(u,'data-'))this._anchor.setAttribute(u,this._data[u]);this._anchor.setAttribute('role','menuitem');var v=this._data.title;v&&this._anchor.setAttribute('title',v);return this._anchor;};t.prototype.isDisabled=function(){return this._disabled;};t.prototype.enable=function(){p(this._anchor,this._data);this._anchor.tabIndex=0;g.removeClass(this._root,"_5arm");this._disabled=false;};t.prototype.disable=function(){q(this._anchor);this._anchor.tabIndex=-1;g.addClass(this._root,"_5arm");this._disabled=true;};t.prototype.render=function(){var u=s.render.call(this);if(this._data.disabled)g.addClass(u,"_5arm");return u;};k(t.prototype,{hasAction:m.thatReturnsTrue});e.exports=t;});
__d("MenuSelectableItem",["CSS","MenuItem","copyProperties","cx"],function(a,b,c,d,e,f){var g=b('CSS'),h=b('MenuItem'),i=b('copyProperties'),j=b('cx');for(var k in h)if(h.hasOwnProperty(k))m[k]=h[k];var l=h===null?null:h.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=h;function m(n){h.call(this,n);this._selected=!!this._data.selected;}m.prototype.getLabel=function(){return this._data.label;};m.prototype.getIcon=function(){return this._data.icon;};m.prototype.isSelected=function(){return this._selected;};m.prototype.select=function(){if(this.isDisabled())return false;g.addClass(this._root,"_54nd");this._selected=true;};m.prototype.deselect=function(){g.removeClass(this._root,"_54nd");this._selected=false;};m.prototype.render=function(){var n=l.render.call(this);if(this._data.selected)g.addClass(n,"_54nd");return n;};i(m.prototype,{_selected:false});e.exports=m;});
__d("SelectableMenu",["Menu","arrayContains","createArrayFrom"],function(a,b,c,d,e,f){var g=b('Menu'),h=b('arrayContains'),i=b('createArrayFrom');for(var j in g)if(g.hasOwnProperty(j))l[j]=g[j];var k=g===null?null:g.prototype;l.prototype=Object.create(k);l.prototype.constructor=l;l.__superConstructor__=g;function l(){if(g!==null)g.apply(this,arguments);}l.prototype.focusAnItem=function(){for(var o=0;o<this._items.length;o++)if(n(this._items[o]))if(this._focusItem(this._items[o])!==false)return true;return k.focusAnItem.call(this);};l.prototype.setValue=function(o){if(!this._root)this._render();var p=i(o);this._items.forEach(function(q){if(m(q))if(h(p,q.getValue())){q.select();}else if(n(q))q.deselect();});this.inform('change',this._getSelection());};l.prototype._handleItemClick=function(o,p){if(!m(o))return k._handleItemClick.call(this,o,p);var q=this.inform('itemclick',{item:o,event:p});if(q)return;if(this._config.multiple){var r=n(o)?o.deselect():o.select();if(r!==false)this.inform('change',this._getSelection());}else{if(!n(o))if(o.select()!==false){this._items.forEach(function(s){if(n(s)&&s!==o)s.deselect();});this.inform('change',this._getSelection());}this.done();}return o.handleClick();};l.prototype._getSelection=function(){var o=[];this._items.forEach(function(p){if(n(p))o.push({label:p.getLabel(),value:p.getValue(),item:p});});if(!this._config.multiple)o=o[0];return o;};function m(o){return o.select&&o.deselect&&o.isSelected;}function n(o){return m(o)&&o.isSelected();}e.exports=l;});
__d("PopoverLoadingMenu",["DOM","PopoverMenuInterface","copyProperties","cx","joinClasses"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('PopoverMenuInterface'),i=b('copyProperties'),j=b('cx'),k=b('joinClasses');for(var l in h)if(h.hasOwnProperty(l))n[l]=h[l];var m=h===null?null:h.prototype;n.prototype=Object.create(m);n.prototype.constructor=n;n.__superConstructor__=h;function n(o){h.call(this);this._config=o||{};this._theme=o.theme||{};}n.prototype.getRoot=function(){if(!this._root)this._root=g.create('div',{className:k("_54nq",this._config.className,this._theme.className)},g.create('div',{className:"_54ng"},g.create('div',{className:"_54nf _54af"},g.create('span',{className:"_54ag"}))));return this._root;};i(n.prototype,{_root:null});e.exports=n;});
__d("ContextualLayerAsyncRelative",["Event","Parent","copyProperties"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Parent'),i=b('copyProperties');function j(k){this._layer=k;}j.prototype.enable=function(){this._layerSubscription=this._layer.subscribe('show',this._attachListener.bind(this));if(this._layer.isShown())this._attachListener();};j.prototype.disable=function(){this._layerSubscription.unsubscribe();this._layerSubscription=null;if(this._listener){this._listener.remove();this._listener=null;}};j.prototype._attachListener=function(){this._listener=g.listen(this._layer.getRoot(),'click',this._onclick.bind(this));};j.prototype._onclick=function(k){var l=h.byTag(k.getTarget(),'A');if(!l)return;var m=l.getAttribute('ajaxify'),n=l.href,o=m||n;if(l.rel==='async'||l.rel==='async-post'){d(['AsyncRequest'],function(p){p.bootstrap(o,this._layer.getContext(),l.rel==='async-post');}.bind(this));return false;}};i(j.prototype,{_layerSubscription:null,_listener:null});e.exports=j;});
__d("MenuTheme",["cx"],function(a,b,c,d,e,f){var g=b('cx');e.exports={className:"_569t"};});
__d("legacy:ui-side-nav-future-js",["FutureSideNav"],function(a,b,c,d){a.FutureSideNav=b('FutureSideNav');},3);
__d("HoverFlyout",["Arbiter","ArbiterMixin","DataStore","Event","Keys","arrayContains","mixin","removeFromArray","shield"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ArbiterMixin'),i=b('DataStore'),j=b('Event'),k=b('Keys'),l=b('arrayContains'),m=b('mixin'),n=b('removeFromArray'),o=b('shield'),p=m(h);for(var q in p)if(p.hasOwnProperty(q))s[q]=p[q];var r=p===null?null:p.prototype;s.prototype=Object.create(r);s.prototype.constructor=s;s.__superConstructor__=p;function s(t,u,v,w){if(t){this._showDelay=v;this._hideDelay=w;this.init(t);if(u)this.initNode(u);}g.subscribe('SwapButtonDEPRECATED/focusOnJoinButton',o(this.hideFlyout,this),g.SUBSCRIBE_ALL);}s.prototype.init=function(t){this._flyout=t;this._showDelay=this._showDelay||0;this._hideDelay=this._hideDelay||100;this._showTimeout=null;this._hideTimeout=null;this._flyoutSubscriptions=[this._flyout.subscribe('mouseenter',this._onFlyoutMouseEnter.bind(this)),this._flyout.subscribe('mouseleave',o(this.hideFlyout,this))];this._nodes=[];this._dataStoreUnique='HoverFlyout_'+Date.now()+'_listeners';return this;};s.prototype.initNode=function(t){if(l(this._nodes,t))return this;this._nodes.push(t);i.set(t,this._dataStoreUnique,[j.listen(t,'mouseenter',this._onNodeMouseEnter.bind(this,t)),j.listen(t,'mouseleave',o(this.hideFlyout,this)),j.listen(t,'click',this._onNodeMouseEnter.bind(this,t)),j.listen(t,'keydown',this._onNodeKeyEscape.bind(this))]);return this;};s.prototype.deactivateNode=function(t){var u=i.get(t,this._dataStoreUnique);if(u)while(u.length)u.pop().remove();n(this._nodes,t);};s.prototype.setShowDelay=function(t){this._showDelay=t;return this;};s.prototype.setHideDelay=function(t){this._hideDelay=t;return this;};s.prototype.showFlyout=function(t,u){this.setActiveNode(t);if(u){this._flyout.setContext(t).show();this.inform('show',t);}else this._showTimeout=this.showFlyout.bind(this,t,true).defer(this._showDelay);return this;};s.prototype.hideFlyout=function(t){clearTimeout(this._showTimeout);if(t){this._flyout.hide();this._activeNode&&this.inform('hide',this._activeNode);this._activeNode=null;}else this._hideTimeout=this.hideFlyout.bind(this,true).defer(this._hideDelay);};s.prototype.hideFlyoutDelayed=function(t){clearTimeout(this._showTimeout);clearTimeout(this._hideTimeout);this._hideTimeout=this.hideFlyout.bind(this,true).defer(t);};s.prototype.getActiveNode=function(){return this._activeNode;};s.prototype.setActiveNode=function(t){clearTimeout(this._hideTimeout);if(this._activeNode&&this._activeNode!==t)this.hideFlyout(true);this._activeNode=t;return this;};s.prototype.clearNodes=function(){for(var t=this._nodes.length;t>0;t--)this.deactivateNode(this._nodes[t-1]);};s.prototype.destroy=function(){while(this._flyoutSubscriptions.length)this._flyout.unsubscribe(this._flyoutSubscriptions.pop());this.clearNodes();};s.prototype._onNodeMouseEnter=function(t){if(this._activeNode===t){clearTimeout(this._hideTimeout);}else this.showFlyout(t);};s.prototype._onFlyoutMouseEnter=function(){clearTimeout(this._hideTimeout);};s.prototype._onNodeKeyEscape=function(event){if(j.getKeyCode(event)===k.ESC){this._activeNode&&this.inform('hide',this._activeNode);this._activeNode=null;}};e.exports=a.HoverFlyout||s;});